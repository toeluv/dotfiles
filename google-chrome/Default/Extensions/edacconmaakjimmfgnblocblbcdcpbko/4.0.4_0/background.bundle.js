/*! For license information please see background.bundle.js.LICENSE.txt */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=135)}([,function(t,e,n){"use strict";var r=n(62);var o=n(69),i=n(43);function a(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(o.a)(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(17);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";function r(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var a=t.apply(e,n);function u(t){r(a,o,i,u,c,"next",t)}function c(t){r(a,o,i,u,c,"throw",t)}u(void 0)}))}}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";n.d(e,"j",(function(){return h})),n.d(e,"i",(function(){return d})),n.d(e,"h",(function(){return p})),n.d(e,"u",(function(){return y})),n.d(e,"f",(function(){return b})),n.d(e,"e",(function(){return m})),n.d(e,"g",(function(){return g})),n.d(e,"a",(function(){return w})),n.d(e,"c",(function(){return x})),n.d(e,"b",(function(){return O})),n.d(e,"d",(function(){return j})),n.d(e,"t",(function(){return E})),n.d(e,"p",(function(){return S})),n.d(e,"o",(function(){return L})),n.d(e,"r",(function(){return P})),n.d(e,"q",(function(){return I})),n.d(e,"A",(function(){return C})),n.d(e,"z",(function(){return N})),n.d(e,"x",(function(){return F})),n.d(e,"y",(function(){return B})),n.d(e,"l",(function(){return K})),n.d(e,"m",(function(){return R})),n.d(e,"n",(function(){return G})),n.d(e,"s",(function(){return Y})),n.d(e,"k",(function(){return q})),n.d(e,"v",(function(){return z})),n.d(e,"w",(function(){return H})),n.d(e,"B",(function(){return V}));var r=n(17),o=n(2),i=n(14),a=n(5),u=n(49),c=n(9),s=n(12),l=n(51),f=n(76),h=30,d=60,p=100,v=Object(u.a)(),y="nxs.theme",b=["title","type","state","incognito","top","left","width","height","deleted"],m=["url","title","titleOriginal","favIconUrl","description","groupId","active","pinned","deleted"],g="local-client",w=50,x=50,O=30,j=30,_={window:{type:"normal",state:"normal",top:0,left:0},tab:{status:"complete",groupId:-1}},k={folder:{type:"normal",state:"normal",top:0,left:0},link:{groupId:-1}};function E(){var t,e;return!!(null===(t=globalThis.chrome)||void 0===t||null===(e=t.runtime)||void 0===e?void 0:e.id)&&v.ext.isNxsExtensionId(chrome.runtime.id)}function S(t,e,n){if(!t)return"";var r=e&&+t<+e,o=null!==n&&void 0!==n?n:{},i=o.bare,u=o.noun;return a.a.relativeDate(r?e:t,i?void 0:{noun:u,verb:r?"updated":"created"})}function L(t,e){if(!t)return"";var n=e&&+t<+e;return a.a.longDate(n?e:t)}function T(t){return"tabs"in t}function P(t){var e;return null!==(e=null===t||void 0===t?void 0:t.reduce((function(t,e){return t+e.tabs.length}),0))&&void 0!==e?e:0}function I(t){var e;return null!==(e=null===t||void 0===t?void 0:t.reduce((function(t,e){return t+e.links.length}),0))&&void 0!==e?e:0}function C(t){return Object(s.d)(Object(s.c)(t,D))}function D(t,e){return!1!==t&&(!A(e)||t!==_.window[e])}function A(t){return t in _.window}function N(t){return Object(s.d)(Object(s.c)(t,M))}function M(t,e){return!1!==t&&(!("favIconUrl"===e&&!t)&&((!U(e)||t!==_.tab[e])&&!!("mutedInfo"!==e||t&&"object"===typeof t&&"muted"in t&&t.muted)))}function U(t){return t in _.tab}function F(t){var e,n=t.groups,a=t.unitIds,u=t.groupIds,c=t.mapGroup,s=t.mapUnit,l=!a.length&&!u.length,f=[],h=Object(i.a)(n);try{for(h.s();!(e=h.n()).done;){var d=e.value;if(!d.deleted)if(l||u.includes(d.id))f.push(c(d));else{var p=Y(d).filter((function(t){return!t.deleted&&a.includes(t.id)})).map((function(t){return s(t)}));if(p.length){var v=c(d,!0);f.push(Object(o.a)(Object(o.a)({},v),{},Object(r.a)({},T(v)?"tabs":"links",p)))}}}}catch(y){h.e(y)}finally{h.f()}return f}function B(t,e){return F(Object(o.a)(Object(o.a)({groups:t},e),{},{mapGroup:l.b,mapUnit:l.b}))}function K(t,e){return W(t,e)||{}}function W(t,e){for(var n=0;n<t.length;n++)for(var r=t[n],o=Y(r),i=0;i<o.length;i++)if(e(o[i],r,i,n))return{unit:o[i],group:r,unitIdx:i,groupIdx:n}}function R(t){if(!t)return[];var e=[];return W(t,(function(t,n,r,o){e.push({unit:t,group:n,unitIdx:r,groupIdx:o})})),e}function G(t){return t?t.flatMap((function(t){return t?Y(t):[]})):[]}function Y(t){var e;return null!==(e=T(t)?t.tabs:t.links)&&void 0!==e?e:[]}function q(t,e){var n=Object(o.a)(Object(o.a)({},t),Object(f.a)(t,e));return n.title===n.titleOriginal&&delete n.titleOriginal,n}function z(t,e){var n,r=Object(s.c)(t,(function(t,n){return(!e||"loaded"!==n)&&(!e||"loading"!==n)&&!1!==t&&null!=t&&("title"!==n||""!==t)&&("description"!==n||""!==t)}));return r.folders=(null!==(n=r.folders)&&void 0!==n?n:[]).map((function(t){return function(t,e){var n,r=Object(s.c)(t,(function(t,n){return(!e||"_setText"!==n)&&(!e||"titleSplit"!==n)&&(!e||"sourceId"!==n)&&!1!==t&&null!=t&&("title"!==n||""!==t)&&("description"!==n||""!==t)&&(!function(t){return t in k.folder}(n)||t!==k.folder[n])}));r.links=Object(c.c)((null!==(n=r.links)&&void 0!==n?n:[]).map((function(t){return function(t,e){var n=Object(s.c)(t,(function(t,n){return(!e||"titleSplit"!==n)&&(!e||"urlSplit"!==n)&&!1!==t&&null!=t&&("title"!==n||""!==t)&&("description"!==n||""!==t)&&("userDescription"!==n||""!==t)&&("favIconUrl"!==n||""!==t)&&(!function(t){return t in k.link}(n)||t!==k.link[n])}));n.title&&n.title!==n.titleOriginal||delete n.titleOriginal;n.url||(n.url="");return n}(t,e)})),(function(t){return!!t.pinned}));var o=r.links.findLast((function(t){return t.active}));o&&r.links.forEach((function(t){t.active&&t!==o&&delete t.active}));return r}(t,e)})),r}function H(t,e){var n,r=Object(s.c)(t,(function(t,n){return(!e||"loaded"!==n)&&(!e||"loading"!==n)&&!1!==t&&null!=t}));return r.windows=(null!==(n=r.windows)&&void 0!==n?n:[]).map((function(t){return function(t,e){var n,r,o=Object(s.c)(t,(function(t,n){return(!e||"_setText"!==n)&&(!e||"titleSplit"!==n)&&(!e||"sourceId"!==n)&&!1!==t&&null!=t&&("title"!==n||""!==t)&&(!A(n)||t!==_.window[n])}));o.tabs=Object(c.c)((null!==(n=null===(r=o.tabs)||void 0===r?void 0:r.filter((function(t){return t.url})))&&void 0!==n?n:[]).map((function(t){return function(t,e){var n=Object(s.c)(t,(function(t,n){return(!e||"titleSplit"!==n)&&(!e||"urlSplit"!==n)&&!1!==t&&null!=t&&("title"!==n||""!==t)&&("description"!==n||""!==t)&&("favIconUrl"!==n||""!==t)&&(!U(n)||t!==_.tab[n])}));n.title&&n.title!==n.titleOriginal||delete n.titleOriginal;n.url||(n.url="");return n}(t,e)})),(function(t){return!!t.pinned}));var i=o.tabs.findLast((function(t){return t.active}));i&&o.tabs.forEach((function(t){t.active&&t!==i&&delete t.active}));return o}(t,e)})).filter((function(t){return t.tabs.length})),r}function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Q(t[n],e[n]))return!1;return!0}function Q(t,e){if(t.title!==e.title||t.type!==e.type||t.incognito!==e.incognito)return!1;if(t.tabs.length!==e.tabs.length)return!1;for(var n=0;n<t.tabs.length;n++)if(!X(t.tabs[n],e.tabs[n]))return!1;return!0}function X(t,e){return t.url===e.url&&t.pinned===e.pinned&&t.groupId===e.groupId}},function(t,e,n){"use strict";var r=n(137),o=n(136),i=n(11),a=n(8);function u(t){Object(a.a)(1,arguments);var e=Object(i.a)(t);return e.setHours(0,0,0,0),e}function c(t,e){Object(a.a)(2,arguments);var n=u(t),r=u(e);return n.getTime()===r.getTime()}var s=n(25);function l(t,e){return Object(a.a)(2,arguments),function(t,e){Object(a.a)(2,arguments);var n=Object(i.a)(t),r=Object(s.a)(e);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}(t,-Object(s.a)(e))}var f=n(15),h=n(13),d=n(66),p=n(6);n.d(e,"a",(function(){return v}));var v={thisBrowser:function(){return"this browser"},session:function(){return"session"},history:function(){return"history"},client:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"browser","browsers")},collection:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"collection","collections",{bare:"collections",withCount:"no collections"})},event:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"event","events",{bare:"events",withCount:"no events"})},item:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"item","items",{bare:"items",withCount:"no items"})},window:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"window","windows",{bare:"windows",withCount:"no windows"})},incognitoWindow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"incognito window","incognito windows",{bare:"incognito windows",withCount:"no incognito windows"})},currentWindow:function(){return"this window"},folder:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"folder","folders",{bare:"folders",withCount:"no folders"})},incognitoFolder:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"incognito folder","incognito folders",{bare:"incognito folders",withCount:"no incognito folders"})},tab:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"tab","tabs",{bare:"tabs",withCount:"no tabs"})},link:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"link","links",{bare:"links",withCount:"no links"})},summarizedItems:function(t){var e=t.groupCount,n=t.unitCount,r=t.isWindow,o=t.includeCount,i=r?v.window:v.folder,a=r?v.tab:v.link;return e&&n?"".concat(i({count:e,includeCount:o})," and ").concat(a({count:n,includeCount:o})):e?i({count:e,includeCount:o}):a({count:n,includeCount:o})},title:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"title","titles")},url:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"URL","URLs",{bare:"URLs",withCount:"no URLs"})},favicon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.c)(t,"favicon","favicons")},untitled:function(){return"untitled"},updated:function(){return"updated"},created:function(){return"created"},relativeDate:function(t,e){var n=Object(h.a)()-+new Date(t)<3e4?"just now":Object(r.a)(t,{addSuffix:!0}),o=null!==e&&void 0!==e?e:{},i=o.noun,a=o.verb;return i&&a?"".concat(v[i]()," ").concat(v[a]()," ").concat(n):a?"".concat(v[a]()," ").concat(n):n},longDate:function(t){var e=new Date(t).getFullYear()!==(new Date).getFullYear();return Object(o.a)(t,"eeee MMMM d".concat(e?", yyyy":""," ' \u2022 ' h:mm a"))},shortDate:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).full;if(!e&&function(t){return Object(a.a)(1,arguments),c(t,Date.now())}(t))return Object(o.a)(t,"h:mm a");if(!e&&function(t){return Object(a.a)(1,arguments),c(t,l(Date.now(),1))}(t))return"".concat(v.yesterday(),"  \u2022  ").concat(Object(o.a)(t,"h:mm a"));var n=e||new Date(t).getFullYear()!==(new Date).getFullYear();return Object(o.a)(t,"MMM d".concat(n?", yyyy":""," ' \u2022 ' h:mm a"))},date:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t.toLocaleDateString("en-US")},time:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date).toLocaleTimeString("en-US")},dateAndTime:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date).toLocaleString("en-US")},now:function(){return"now"},yesterday:function(){return"yesterday"},number:function(t){return(+t||0).toLocaleString("en-US")},integer:function(t){return(+t||0).toLocaleString("en-US",{maximumFractionDigits:0})},alt:function(){return"alt"},shift:function(){return"shift"},ctrl:function(){return"ctrl"},cmd:function(){return"cmd"},ctrlOrCmd:function(){return"mac"===d.a?v.cmd():v.ctrl()},keyModifier:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.map((function(t){return Object(p.c)(t)})).join("+")},learnMore:function(){return"learn more"},click:function(){return"click"}}},function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"h",(function(){return l}));n(1);function r(t,e){return(null===t||void 0===t?void 0:t.startsWith(e))?t.slice(e.length):t}function o(t,e){return(null===e||void 0===e?void 0:e.length)&&(null===t||void 0===t?void 0:t.endsWith(e))?t.slice(0,-e.length):t}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=t.lastIndexOf(e);return n<0?t:t.slice(0,n)}function a(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&#34;")}function u(t){return t?"".concat(t[0].toLocaleUpperCase()).concat(t.substring(1)):""}function c(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),n=t.toLowerCase();return e<n?-1:e>n?1:0}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t.replace(/^/gm," ".repeat(e))}function l(t){return t.toUpperCase()}},function(t,e,n){"use strict";var r=n(70);var o=n(43),i=n(71);function a(t,e){return Object(r.a)(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,e)||Object(o.a)(t,e)||Object(i.a)()}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";function r(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"m",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"j",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return h})),n.d(e,"l",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"d",(function(){return v})),n.d(e,"i",(function(){return y})),n.d(e,"e",(function(){return b}));var r=n(1),o=(n(7),n(51));function i(t,e){return[].concat(Object(r.a)(t.filter(e)),Object(r.a)(t.filter((function(t){return!e(t)}))))}function a(t){return t.filter((function(e,n){return t.indexOf(e)===n}))}function u(t){return a(t.flat()).filter((function(t){return void 0!==t}))}function c(t){return t[t.length-1]}function s(t){return Object(r.a)(t).reverse()}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.c;return[].concat(Object(r.a)(t?f(t,(function(t){return e.some((function(e){return n(e,t)}))})):[]),Object(r.a)(function(t){return t.filter((function(e,n){return t.lastIndexOf(e)===n}))}(e)))}function f(t,e){return t.some(e)?t.filter((function(t){return!e(t)})):t}function h(t,e){return e.length?f(t,(function(t){return e.includes(t)})):t}function d(t,e){return[t.slice(0,e),t.slice(e)]}function p(t,e){for(var n=[],r=[],o=0;o<t.length;o++)(e(t[o],o)?n:r).push(t[o]);return[n,r]}function v(t,e){return t.filter((function(t){return e.includes(t)}))}function y(t,e,n){return t.includes(e)?t.map((function(t){return t===e?n:t})):t}function b(t,e){return t.length===e.length&&t.every((function(t,n){return t===e[n]}))}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(39),o=n(8);function i(t){Object(o.a)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===Object(r.a)(t)&&"[object Date]"===e?new Date(t.getTime()):"number"===typeof t||"[object Number]"===e?new Date(t):("string"!==typeof t&&"[object String]"!==e||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},function(t,e,n){"use strict";n.d(e,"i",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return p})),n.d(e,"e",(function(){return v})),n.d(e,"h",(function(){return y})),n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return m}));var r=n(1),o=n(7),i=n(2),a=n(45),u=n.n(a),c=n(9);function s(t,e){return e?Object.fromEntries(e.map((function(e){return[e,t[e]]})).filter((function(t){return void 0!==Object(o.a)(t,2)[1]}))):Object(i.a)({},t)}function l(t,e){return Object.fromEntries(Object.entries(t).filter((function(t){var n=Object(o.a)(t,2),r=n[0],i=n[1];return e(i,r)})))}function f(t){return l(t,(function(t){return null!=t}))}function h(t,e){return Object.fromEntries(Object.entries(t).map((function(t){var n=Object(o.a)(t,2),r=n[0],i=n[1];return[r,e(i,r)]})))}function d(t,e){if(u()(t)&&u()(e)||u()(t)&&void 0===e||void 0===t&&u()(e)){t=void 0===t?{}:t,e=void 0===e?{}:e;var n=Object(c.m)([].concat(Object(r.a)(Object.keys(t)),Object(r.a)(Object.keys(e))));return Object.fromEntries(n.map((function(n){return[n,d(t[n],e[n])]})))}return Object(c.b)([t,e])}function p(t){var e=t.slice(1);return e.length||(e=[void 0]),e.reduce(d,t[0])}function v(t,e){return void 0!==t[e]}function y(t,e){return void 0===t[e]}function b(t,e){for(var n=Object.assign({},t,e),r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];u()(t[i])&&u()(e[i])&&(n[i]=b(t[i],e[i]))}return n}function m(t){return Object.entries(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));function r(){return Date.now()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(43);function o(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=Object(r.a)(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,a=!0,u=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==o.return||o.return()}finally{if(u)throw i}}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return u}));var r=n(5),o=1,i=10;function a(t,e,n,o){var i=t.count,a=void 0===i?1:i,u=t.includeCount,c=void 0!==u&&u;return 1===a?c?"1 ".concat(e):e:0===a&&o?c?o.withCount:o.bare:c?"".concat(r.a.integer(a)," ").concat(n):n}function u(t){return t?o:i}},,function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";function r(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var o=n(9);n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return u}));var i=["http","https","www","file"];function a(t){return t?u(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text").matchParts.length:0}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";if(!(null===e||void 0===e?void 0:e.length)||!t)return{parts:t?[t]:[],matchParts:[]};var a=e.map((function(t){return t.toLowerCase()})),u=Object(o.m)("url"===n?a.filter((function(t){return!i.includes(t)})):a),c="text"===n?function(t,e){var n="\\b(".concat(e.map(r).join("|"),")"),o=new RegExp(n,"gi");return t.split(o)}(t,u):function(t,e){var n="\\b(".concat(e.map(r).join("|"),")"),o=new RegExp(n,"gi");return t.split(o)}(t,u),s=c.filter((function(t){return u.includes(t.toLowerCase())}));return{parts:c,matchParts:s}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(4),o="nxs.experiment.",i={"collection-fetch-all":u,"collection-fetch-count-initial":c(r.a,r.a),"collection-fetch-count-lazy":c(r.b,r.b),"history-fetch-all":u,"history-fetch-count-initial":c(r.c,r.c),"history-fetch-count-lazy":c(r.d,r.d),"warn-on-open-tab-count":c(r.j),"optimized-open-threshold":c(r.i),"optimized-open-delay":c(r.h),"remove-title-suffixes":u,"use-theme-sensitive-favicons":function(t){return"false"!==t},debug:u},a=function(t,e){return void 0!==e&&localStorage.setItem("".concat(o).concat(t),JSON.stringify(e)),i[t](localStorage.getItem("".concat(o).concat(t)))};function u(t){return"true"===t}function c(t,e,n){return function(r){var o=parseInt(null!==r&&void 0!==r?r:"",10);return Number.isNaN(o)?t:(null!=e&&(o=Math.max(o,e)),null!=n&&(o=Math.min(o,n)),o)}}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},function(t,e,n){"use strict";n.d(e,"e",(function(){return c})),n.d(e,"g",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"a",(function(){return v}));var r=n(1),o=n(2),i=n(86),a=n(19),u=n(9);function c(t){if(!(null===t||void 0===t?void 0:t.trim()))return null;var e=Object(i.parse)(t.toLowerCase(),{keywords:["collection","folder","link","history","window","tab"],tokenize:!0,alwaysArray:!0,offsets:!1}),n=Object(u.m)((e.text||[]).filter(b)),r=Object(u.m)((e.collection||[]).filter(b)),o=Object(u.m)((e.folder||[]).filter(b)),a=Object(u.m)((e.link||[]).filter(b)),c=Object(u.m)((e.history||[]).filter(b)),s=Object(u.m)((e.window||[]).filter(b)),l=Object(u.m)((e.tab||[]).filter(b));return n.length||r.length||o.length||a.length||c.length||s.length||l.length?{free:n,collection:r,folder:o,link:a,history:c,window:s,tab:l}:null}function s(t,e){var n,r,o,i;return(null!==(n=e.score)&&void 0!==n?n:0)-(null!==(r=t.score)&&void 0!==r?r:0)||(null!==(o=e.secondaryScore)&&void 0!==o?o:0)-(null!==(i=t.secondaryScore)&&void 0!==i?i:0)}function l(t){return"tab"===t.type||"link"===t.type}function f(t){return t.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{tabs:(t.tabs||[]).filter((function(t){var e,n;return(null===(e=t.titleSplit)||void 0===e?void 0:e.matchParts.length)||(null===(n=t.urlSplit)||void 0===n?void 0:n.matchParts.length)}))})})).filter((function(t){var e;return(null===(e=t.titleSplit)||void 0===e?void 0:e.matchParts.length)||t.tabs.length}))}function h(t,e,n){return e?t.map((function(t){var i=Object(o.a)({},t);if(t.title){var u=Object(a.b)(t.title,[].concat(Object(r.a)(e.free),Object(r.a)(n?e.history:[]),Object(r.a)(e.window)));u.matchParts.length&&(i.titleSplit=u)}return Object(o.a)(Object(o.a)({},i),{},{tabs:d(t.tabs||[],e,n)})})):t}function d(t,e,n){return t.map((function(t){var i=Object(o.a)({},t),u=Object(a.b)(t.url,[].concat(Object(r.a)(e.free),Object(r.a)(n?e.history:[]),Object(r.a)(e.window),Object(r.a)(e.tab)),"url");u.matchParts.length&&(i.urlSplit=u);var c=Object(a.b)(t.title||t.url,[].concat(Object(r.a)(e.free),Object(r.a)(n?e.history:[]),Object(r.a)(e.window),Object(r.a)(e.tab)));return c.matchParts.length&&(i.titleSplit=c),i}))}function p(t){return t.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{links:(t.links||[]).filter((function(t){var e,n;return(null===(e=t.titleSplit)||void 0===e?void 0:e.matchParts.length)||(null===(n=t.urlSplit)||void 0===n?void 0:n.matchParts.length)}))})})).filter((function(t){var e;return(null===(e=t.titleSplit)||void 0===e?void 0:e.matchParts.length)||t.links.length}))}function v(t,e){return e?t.map((function(t){var n=Object(o.a)({},t);if(t.title){var i=Object(a.b)(t.title,[].concat(Object(r.a)(e.free),Object(r.a)(e.collection),Object(r.a)(e.folder)));i.matchParts.length&&(n.titleSplit=i)}return Object(o.a)(Object(o.a)({},n),{},{links:y(t.links||[],e)})})):t}function y(t,e){return t.map((function(t){var n=Object(o.a)({},t),i=Object(a.b)(t.url,[].concat(Object(r.a)(e.free),Object(r.a)(e.collection),Object(r.a)(e.folder),Object(r.a)(e.link)),"url");i.matchParts.length&&(n.urlSplit=i);var u=Object(a.b)(t.title||t.url,[].concat(Object(r.a)(e.free),Object(r.a)(e.collection),Object(r.a)(e.folder),Object(r.a)(e.link)));return u.matchParts.length&&(n.titleSplit=u),n}))}function b(t){return t.length>1}},function(t,e,n){"use strict";n.d(e,"h",(function(){return u})),n.d(e,"j",(function(){return c})),n.d(e,"i",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"k",(function(){return f})),n.d(e,"d",(function(){return h})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return p})),n.d(e,"f",(function(){return v})),n.d(e,"e",(function(){return y})),n.d(e,"g",(function(){return b}));var r=n(6),o=["/","?","#",":"],i=[".jpg",".jpeg",".png",".apng",".gif",".svg",".webp",".bmp",".ico"],a=["jpeg","png","apng","gif","svg+xml","webp","bmp"];function u(t,e){return t.startsWith(e)&&(t.length===e.length||o.includes(t[e.length]))}function c(t){try{return new URL(t)}catch(e){}return{}}function s(t){var e,n;return Array.from(null!==(e=null===(n=c(t).searchParams)||void 0===n?void 0:n.entries())&&void 0!==e?e:[])}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.substring(0,t.indexOf(":"))}function f(t){return Object(r.e)(Object(r.e)(t,"#"),"?")}function h(t){return!!t&&(t.startsWith("https://")||t.startsWith("http://"))}function d(t){return!!t&&t.startsWith("data:")}function p(t){return!!t&&t.startsWith("file://")}function v(t){return!!t&&t.startsWith("javascript:")}function y(t){if(!t)return!1;var e="string"===typeof t?c(t):t,n=e.pathname,r=e.href;return!!(n&&r&&!d(r)&&i.some((function(t){return n.endsWith(t)}))||d(r)&&a.some((function(t){return r.startsWith("data:image/".concat(t,";base64,"))})))}function b(t){if(!t)return!1;var e=("string"===typeof t?c(t):t).pathname;return!!e&&e.endsWith(".pdf")}},function(t,e,n){"use strict";function r(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return O}));var r=n(3),o=n(26),i=n(27),a=n(33),u=n(34),c=n(59),s=n(36),l=n(13);function f(){f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(T){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=s;var h={};function d(){}function p(){}function v(){}var y={};c(y,i,(function(){return this}));var b=Object.getPrototypeOf,m=b&&b(b(S([])));m&&m!==e&&n.call(m,i)&&(y=m);var g=v.prototype=d.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function O(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,h;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=v,r(g,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},w(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(g),c(g,u,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}var h=60,d=5256e3,p=500;function v(t){return y.apply(this,arguments)}function y(){return y=Object(r.a)(f().mark((function t(e){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.settings,t.next=3,n.get("clientId");case 3:if(null===(r=t.sent)||void 0===r?void 0:r.value){t.next=9;break}return t.next=7,n.put({id:"clientId",value:Object(s.a)()});case 7:return t.next=9,n.put({id:"clientCreated",value:Object(l.a)()});case 9:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}var b=(new(function(t){Object(a.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(i.a)(this,n),(t=e.call(this,"nxsSettings")).settings=void 0,t.version(1).stores({settings:"id"}),t.on("ready",v),t.settings=t.table("settings"),t}return Object(o.a)(n)}(c.a))).settings;function m(){return b.toArray()}function g(t){return b.get(t)}function w(t){return x.apply(this,arguments)}function x(){return(x=Object(r.a)(f().mark((function t(e){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:return n=t.sent,t.abrupt("return",null===n||void 0===n?void 0:n.value);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t,e){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(f().mark((function t(e,n){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.put({id:e,value:n});case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(72);function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},function(t,e,n){"use strict";var r=n(74),o=n(80);function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var a=n(58);function u(t){return function(){var e,n=Object(r.a)(t);if(Object(o.a)()){var u=Object(r.a)(this).constructor;e=Reflect.construct(n,arguments,u)}else e=n.apply(this,arguments);return function(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?Object(a.a)(t):e}(this,e)}}n.d(e,"a",(function(){return u}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(22),o=n(64),i=n(54),a=n(41),u=n(46),c=n(32),s=n(44),l=function(t){function e(n,r,o){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!n){a.destination=i.a;break}if("object"===typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new f(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new f(a,n,r,o)}return a}return r.a(e,t),e.prototype[u.a]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(a.a),f=function(t){function e(e,n,r,a){var u,c=t.call(this)||this;c._parentSubscriber=e;var s=c;return Object(o.a)(n)?u=n:n&&(u=n.next,r=n.error,a=n.complete,n!==i.a&&(s=Object.create(n),Object(o.a)(s.unsubscribe)&&c.add(s.unsubscribe.bind(s)),s.unsubscribe=c.unsubscribe.bind(c))),c._context=s,c._next=u,c._error=r,c._complete=a,c}return r.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(s.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(s.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw n;Object(s.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return c.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(s.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},function(t,e,n){"use strict";var r=function(t){return crypto.getRandomValues(new Uint8Array(t))};n.d(e,"a",(function(){return o}));var o=function(t){return function(t,e,n){var r=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*r*e/t.length);return function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a="";;)for(var u=n(o),c=o;c--;)if((a+=t[u[c]&r]||"").length===i)return a}}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:21,r)}("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",23)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r={};function o(){return r}},function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"g",(function(){return _})),n.d(e,"e",(function(){return E})),n.d(e,"f",(function(){return S})),n.d(e,"b",(function(){return T})),n.d(e,"j",(function(){return P})),n.d(e,"c",(function(){return I})),n.d(e,"k",(function(){return C})),n.d(e,"a",(function(){return A})),n.d(e,"i",(function(){return M})),n.d(e,"h",(function(){return F}));var r=n(3),o=n(1),i=n(14),a=n(26),u=n(27),c=n(33),s=n(34),l=n(59),f=n(52),h=n(23),d=n(19),p=n(60),v=n(13),y=n(12),b=n(6),m=n(5);function g(){g=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(T){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:O(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(S([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function O(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},w(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var w=new(function(t){Object(c.a)(n,t);var e=Object(s.a)(n);function n(){var t;return Object(u.a)(this,n),(t=e.call(this,"nxsClientHistory")).clientHistory=void 0,t.version(1).stores({clientHistory:"id, type"}),t.clientHistory=t.table("clientHistory"),t}return Object(a.a)(n)}(l.a)),x=w.clientHistory,O=Object(p.a)();function j(t){var e=t.lastItemId,n=t.limit,r=void 0===n?50:n,a=t.searchTerms;return O((function(){return(e?x.where("id").below(e):x.orderBy("id")).reverse().filter((function(t){var e=t.windows;if(!a)return!0;if(!a.free.length&&!a.history.length&&!a.window.length&&!a.tab.length)return!1;var n,r=Object(i.a)(e||[]);try{for(r.s();!(n=r.n()).done;){var u=n.value;if(Object(d.a)(u.title,[].concat(Object(o.a)(a.free),Object(o.a)(a.history),Object(o.a)(a.window))))return!0;var c,s=Object(i.a)(u.tabs||[]);try{for(s.s();!(c=s.n()).done;){var l=c.value;if(Object(d.a)(l.title,[].concat(Object(o.a)(a.free),Object(o.a)(a.history),Object(o.a)(a.window),Object(o.a)(a.tab)))||Object(d.a)(l.url,[].concat(Object(o.a)(a.free),Object(o.a)(a.history),Object(o.a)(a.window),Object(o.a)(a.tab)),"url"))return!0}}catch(f){s.e(f)}finally{s.f()}}}catch(f){r.e(f)}finally{r.f()}return!1})).limit(r).toArray()}))}function _(t){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(g().mark((function t(e){var n,r,o,i,a;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.lastItemId,r=e.limit,o=void 0===r?50:r,i=e.searchTerms,t.next=3,j({lastItemId:n,limit:o,searchTerms:i});case 3:return a=t.sent,t.abrupt("return",a.map((function(t){return Object(y.i)(t,["id","type","updated"])})));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t){return x.get(t)}function S(t){return L.apply(this,arguments)}function L(){return(L=Object(r.a)(g().mark((function t(e){var n,r,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=x.orderBy("id").reverse(),r=e?n.filter((function(t){return t.type===e})):n,t.next=4,r.limit(1).toArray();case 4:return o=t.sent,t.abrupt("return",o.length?o[0]:void 0);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return x.clear()}function P(t){return x.where("type").equals(t).delete()}function I(t){return x.bulkDelete(t)}function C(t,e){return D.apply(this,arguments)}function D(){return(D=Object(r.a)(g().mark((function t(e,n){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.transaction("rw",x,Object(r.a)(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.bulkPut(e);case 2:case"end":return t.stop()}}),t)}))));case 2:if(!n){t.next=5;break}return t.next=5,M(n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t,e){return N.apply(this,arguments)}function N(){return(N=Object(r.a)(g().mark((function t(e,n){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.add(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.warn("failed to add to history",e,t.t0);case 8:if(!n){t.next=11;break}return t.next=11,M(n);case 11:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function M(t){return U.apply(this,arguments)}function U(){return(U=Object(r.a)(g().mark((function t(e){var n,r,o,i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.maxAge,r=e.maxCount,t.prev=1,!n){t.next=8;break}return o=Object(v.a)()-n,t.next=6,x.where("id").below(o).delete();case 6:t.sent;case 8:if(!r){t.next=17;break}return t.next=11,x.count();case 11:if(!((i=t.sent)>r)){t.next=17;break}return t.next=15,x.orderBy("id").limit(i-r).delete();case 15:t.sent;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),console.warn("history housekeeping failed",t.t0);case 22:case"end":return t.stop()}}),t,null,[[1,19]])})))).apply(this,arguments)}function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return O(Object(r.a)(g().mark((function n(){var r;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r={event:[],window:[],tab:[]},t.free.length||t.history.length||t.window.length||t.tab.length){n.next=3;break}return n.abrupt("return",r);case 3:return n.next=5,x.orderBy("id").reverse().each((function(n){var a,u=0,c=0,s=Object(i.a)(n.windows||[]);try{for(s.s();!(a=s.n()).done;){var l=a.value,h=Object(d.a)(l.title,[].concat(Object(o.a)(t.free),Object(o.a)(t.history),Object(o.a)(t.window))),p=0,v=0;h&&(u+=h);var y,g=Object(i.a)(l.tabs||[]);try{for(g.s();!(y=g.n()).done;){var w=y.value,x=Math.pow(Object(d.a)(w.title,[].concat(Object(o.a)(t.free),Object(o.a)(t.history),Object(o.a)(t.window),Object(o.a)(t.tab)))+Object(d.a)(w.url,[].concat(Object(o.a)(t.free),Object(o.a)(t.history),Object(o.a)(t.window),Object(o.a)(t.tab)),"url"),2);x&&(c++,v++,e.excludeTabs||r.tab.push({id:w.id,setId:n.id,text:w.title||w.url,score:x,type:"tab",setTitle:"".concat(f.a.clientHistoryItemType(n.type)," ").concat(m.a.event()," from  ").concat(m.a.shortDate(n.id)),unit:w}),u+=x,p+=x)}}catch(O){g.e(O)}finally{g.f()}!h&&!p||e.excludeWindows||r.window.push({id:l.id,setId:n.id,text:l.title,score:h,secondaryScore:p,unitMatchCount:v,type:"window",setTitle:"".concat(f.a.clientHistoryItemType(n.type)," ").concat(m.a.event()," from  ").concat(m.a.shortDate(n.id))})}}catch(O){s.e(O)}finally{s.f()}u&&!e.excludeEvents&&r.event.push({id:n.id,setId:n.id,text:Object(b.c)(m.a.shortDate(n.id)),score:0,secondaryScore:u,unitMatchCount:c,type:"event",eventType:n.type})}));case 5:return n.abrupt("return",{event:r.event.sort(h.g),window:r.window.sort(h.g),tab:r.tab.sort(h.g)});case 6:case"end":return n.stop()}}),n)}))))}},function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";var r=n(81),o=n(82),i=n(64),a=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();n.d(e,"a",(function(){return u}));var u=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,u=n._parentOrParents,s=n._ctorUnsubscribe,l=n._unsubscribe,f=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,u instanceof t)u.remove(this);else if(null!==u)for(var h=0;h<u.length;++h){u[h].remove(this)}if(Object(i.a)(l)){s&&(this._unsubscribe=void 0);try{l.call(this)}catch(v){e=v instanceof a?c(v.errors):[v]}}if(Object(r.a)(f)){h=-1;for(var d=f.length;++h<d;){var p=f[h];if(Object(o.a)(p))try{p.unsubscribe()}catch(v){e=e||[],v instanceof a?e=e.concat(c(v.errors)):e.push(v)}}}if(e)throw new a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce((function(t,e){return t.concat(e instanceof a?e.errors:e)}),[])}},function(t){t.exports=JSON.parse('{"ext":{"mainFilenames":["session-buddy.html","main.html","mainUI.html","m.html"],"optionsFilename":"options.html","appStoreProfiles":{"googleChromeWebStore":{"url":"https://chrome.google.com/webstore/detail/session-buddy/edacconmaakjimmfgnblocblbcdcpbko","reviews":"https://chrome.google.com/webstore/detail/session-buddy/edacconmaakjimmfgnblocblbcdcpbko/reviews","extensionId":"edacconmaakjimmfgnblocblbcdcpbko"},"microsoftAddOnStore":{"url":"","extensionId":"microsoft-nxs-extension-id-placeholder"},"mozillaAddOnStore":{"url":"","extensionId":"mozilla-nxs-extension-id-placeholder"},"appleMacAppStore":{"url":"","extensionId":"apple-nxs-extension-id-placeholder"}}},"web":{"appUrls":["https://sessionbuddy.com/app","https://noox.is/app","https://app.sessionbuddy.com","https://sessionbuddy.app","https://www.sessionbuddy.com/app","https://www.noox.is/app","https://app.sessionbuddy.com","https://www.sessionbuddy.app"]}}')},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(62);function o(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},function(t,e){var n,r,o=Function.prototype,i=Object.prototype,a=o.toString,u=i.hasOwnProperty,c=a.call(Object),s=i.toString,l=(n=Object.getPrototypeOf,r=Object,function(t){return n(r(t))});t.exports=function(t){if(!function(t){return!!t&&"object"==typeof t}(t)||"[object Object]"!=s.call(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}(t))return!1;var e=l(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==c}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(t,e,n){"use strict";function r(t){return"id"in t&&("string"===typeof t.id&&!!t.id||"number"===typeof t.id)}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";var r=n(14),o=n(7),i=n(42),a=n(55),u=n(85);var c,s=n(24),l=n(9),f=n(12);function h(){return c||(c=function(){var t=function(){var t,e,n="chrome";if(n){var r=Object.values(a).find((function(t){return t.browsers.includes(n)}));if(r)return r}var c=null===(t=globalThis.chrome)||void 0===t||null===(e=t.runtime)||void 0===e?void 0:e.id;if(c){var s,l,f=null===(s=Object.entries(i.ext.appStoreProfiles).find((function(t){var e=Object(o.a)(t,2);e[0];return e[1].extensionId===c})))||void 0===s?void 0:s[0],h=f&&(null===(l=u[f])||void 0===l?void 0:l.authoritativeBrowserConfig);if(h)return a[h]}return a.chrome}(),e=function(t){var e=Object(l.c)(Object.values(a),(function(e){return e===t})).map((function(t){return{urls:n(t.urls),schemes:n(t.schemes)}}));return Object(f.g)(e);function n(t){return Object(f.f)(t,(function(t){return t.map((function(t){return t.toLowerCase()}))}))}}(t),n=e.urls,r=e.schemes,c=d(t),s=d(t,i.ext.mainFilenames),h=d(t,[i.ext.optionsFilename]),y=i.ext.mainFilenames[0],w=Object.values(i.ext.appStoreProfiles).map((function(t){return t.extensionId})),x=i.web.appUrls.map((function(t){return t.toLowerCase()}));return{ext:{canonicalMainFilename:y,canonicalMainUrl:p(t,y),allNxsExtensionIds:w,isNxsExtensionId:function(t){return w.includes(t)},isNxsUrl:function(t){return m(t,c)},isMainUrl:function(t){return m(t,s)},isOptionsUrl:function(t){return m(t,h)}},web:{isAppUrl:function(t){return m(t,x)}},browser:{canonicalBookmarksUrl:v(t,"bookmarks"),canonicalDownloadsUrl:v(t,"downloads"),canonicalExtensionsUrl:v(t,"extensions"),canonicalHistoryUrl:v(t,"history"),canonicalNewtabUrl:v(t,"newtab"),canonicalSettingsUrl:v(t,"settings"),isFeatureUrl:function(t,e){return e?m(t,n[e]):g(t,r.feature)},isExtensionUrl:function(t,e){if(e){var n=e.toLowerCase();return m(t,r.extension.map((function(t){return b(t,n)})))}return g(t,r.extension)}}}}())}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=[],o=y(t);h(t.schemes.extension,[o]);for(var u=0,c=Object.values(a);u<c.length;u++){var s=c[u],f=s.appStores.map((function(t){return i.ext.appStoreProfiles[t].extensionId}));h(s.schemes.extension,f)}return Object(l.m)(n);function h(t,o){var i,a=Object(r.a)(t);try{for(a.s();!(i=a.n()).done;){var u,c=i.value,s=Object(r.a)(o);try{for(s.s();!(u=s.n()).done;){var l,f=u.value,h=Object(r.a)(e);try{for(h.s();!(l=h.n()).done;){var d=l.value;n.push(b(c,f,d).toLowerCase())}}catch(p){h.e(p)}finally{h.f()}}}catch(p){s.e(p)}finally{s.f()}}}catch(p){a.e(p)}finally{a.f()}}}function p(t,e){return b(t.schemes.extension[0],y(t),e)}function v(t,e){return t.urls[e][0]}function y(t){var e,n;return(null===(e=globalThis.chrome)||void 0===e||null===(n=e.runtime)||void 0===n?void 0:n.id)?chrome.runtime.id:i.ext.appStoreProfiles[t.appStores[0]].extensionId}function b(t,e,n){return"".concat(t,"://").concat(e).concat(n?"/".concat(n):"")}function m(t,e){if(!t)return!1;var n=t.toLowerCase();return e.some((function(t){return Object(s.h)(n,t)}))}function g(t,e){if(!t)return!1;var n=Object(s.a)(t).toLowerCase();return!!n&&e.some((function(t){return t===n}))}n.d(e,"a",(function(){return h}))},function(t,e,n){"use strict";function r(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){return t}function o(t,e){return t===e}function i(t,e){return t.id===e.id}n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r={"snapshot-scheduled":"snapshot","snapshot-manual":"manual snapshot","tab-navigated":"tab navigated","tab-moved":"tab moved","tabs-moved":"tabs moved","tab-opened":"tab opened","tabs-opened":"tabs opened","window-opened":"window opened","windows-opened":"windows opened","tabs-changed":"tabs changed","browser-closed":"browser closed","windows-closed":"windows closed","window-closed":"window closed","tabs-closed":"tabs closed","tab-closed":"tab closed"},o={clientHistoryItemType:function(t){return r[t]}}},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(32),o=n(44),i={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(o.a)(t)},complete:function(){}}},function(t){t.exports=JSON.parse('{"brave":{"browsers":["brave"],"appStores":["googleChromeWebStore"],"urls":{"bookmarks":["brave://bookmarks"],"downloads":["brave://downloads"],"extensions":["brave://extensions"],"history":["brave://history"],"newtab":[],"settings":["brave://settings"]},"schemes":{"devTools":[],"extension":["chrome-extension"],"feature":["brave"]}},"chrome":{"browsers":["chrome","chromium"],"appStores":["googleChromeWebStore"],"urls":{"bookmarks":["chrome://bookmarks"],"downloads":["chrome://downloads"],"extensions":["chrome://extensions","chrome://chrome/extensions","chrome://settings/extensions"],"history":["chrome://history","chrome://chrome/history"],"newtab":["chrome://newtab"],"settings":["chrome://settings","chrome://chrome/settings"]},"schemes":{"devTools":["devtools","chrome-devtools"],"extension":["chrome-extension"],"feature":["chrome"]}},"edge":{"browsers":["edge"],"appStores":["microsoftAddOnStore","googleChromeWebStore"],"urls":{"bookmarks":["edge://favorites"],"downloads":["edge://downloads"],"extensions":["edge://extensions"],"history":["edge://history"],"newtab":["edge://newtab"],"settings":["edge://settings"]},"schemes":{"devTools":[],"extension":["chrome-extension","extension"],"feature":["edge"]}},"firefox":{"browsers":["firefox"],"appStores":["mozillaAddOnStore"],"urls":{"bookmarks":[],"downloads":[],"extensions":["about:addons"],"history":[],"newtab":["about:newtab"],"settings":["about:preferences"]},"schemes":{"devTools":[],"extension":["moz-extension"],"feature":["about"]}},"safari":{"browsers":["safari"],"appStores":["appleMacAppStore"],"urls":{"bookmarks":[],"downloads":[],"extensions":[],"history":[],"newtab":[],"settings":[]},"schemes":{"devTools":[],"extension":[],"feature":[]}},"tor":{"browsers":["tor"],"appStores":[],"urls":{"bookmarks":[],"downloads":[],"extensions":[],"history":[],"newtab":[],"settings":[]},"schemes":{"devTools":[],"extension":[],"feature":[]}},"vivaldi":{"browsers":["vivaldi"],"appStores":[],"urls":{"bookmarks":[],"downloads":[],"extensions":[],"history":[],"newtab":[],"settings":[]},"schemes":{"devTools":[],"extension":[],"feature":[]}},"yandex":{"browsers":["yandex"],"appStores":[],"urls":{"bookmarks":[],"downloads":[],"extensions":[],"history":[],"newtab":[],"settings":[]},"schemes":{"devTools":[],"extension":[],"feature":[]}},"arc":{"browsers":["arc"],"appStores":[],"urls":{"bookmarks":[],"downloads":[],"extensions":[],"history":[],"newtab":[],"settings":[]},"schemes":{"devTools":[],"extension":[],"feature":[]}}}')},,function(t,e,n){"use strict";function r(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return ir}));var r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function o(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}var i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,a=Object.keys,u=Array.isArray;function c(t,e){return"object"!==typeof e||a(e).forEach((function(n){t[n]=e[n]})),t}"undefined"===typeof Promise||i.Promise||(i.Promise=Promise);var s=Object.getPrototypeOf,l={}.hasOwnProperty;function f(t,e){return l.call(t,e)}function h(t,e){"function"===typeof e&&(e=e(s(t))),("undefined"===typeof Reflect?a:Reflect.ownKeys)(e).forEach((function(n){p(t,n,e[n])}))}var d=Object.defineProperty;function p(t,e,n,r){d(t,e,c(n&&f(n,"get")&&"function"===typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function v(t){return{from:function(e){return t.prototype=Object.create(e.prototype),p(t.prototype,"constructor",t),{extend:h.bind(null,t.prototype)}}}}var y=Object.getOwnPropertyDescriptor;function b(t,e){var n;return y(t,e)||(n=s(t))&&b(n,e)}var m=[].slice;function g(t,e,n){return m.call(t,e,n)}function w(t,e){return e(t)}function x(t){if(!t)throw new Error("Assertion Failed")}function O(t){i.setImmediate?setImmediate(t):setTimeout(t,0)}function j(t,e){return t.reduce((function(t,n,r){var o=e(n,r);return o&&(t[o[0]]=o[1]),t}),{})}function _(t,e){if(f(t,e))return t[e];if(!e)return t;if("string"!==typeof e){for(var n=[],r=0,o=e.length;r<o;++r){var i=_(t,e[r]);n.push(i)}return n}var a=e.indexOf(".");if(-1!==a){var u=t[e.substr(0,a)];return void 0===u?void 0:_(u,e.substr(a+1))}}function k(t,e,n){if(t&&void 0!==e&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!==typeof e&&"length"in e){x("string"!==typeof n&&"length"in n);for(var r=0,o=e.length;r<o;++r)k(t,e[r],n[r])}else{var i=e.indexOf(".");if(-1!==i){var a=e.substr(0,i),c=e.substr(i+1);if(""===c)void 0===n?u(t)&&!isNaN(parseInt(a))?t.splice(a,1):delete t[a]:t[a]=n;else{var s=t[a];s&&f(t,a)||(s=t[a]={}),k(s,c,n)}}else void 0===n?u(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function E(t){var e={};for(var n in t)f(t,n)&&(e[n]=t[n]);return e}var S=[].concat;function L(t){return S.apply([],t)}var T="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(L([8,16,32,64].map((function(t){return["Int","Uint","Float"].map((function(e){return e+t+"Array"}))})))).filter((function(t){return i[t]})),P=T.map((function(t){return i[t]}));j(T,(function(t){return[t,!0]}));var I=null;function C(t){I="undefined"!==typeof WeakMap&&new WeakMap;var e=D(t);return I=null,e}function D(t){if(!t||"object"!==typeof t)return t;var e=I&&I.get(t);if(e)return e;if(u(t)){e=[],I&&I.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(D(t[n]))}else if(P.indexOf(t.constructor)>=0)e=t;else{var o=s(t);for(var i in e=o===Object.prototype?{}:Object.create(o),I&&I.set(t,e),t)f(t,i)&&(e[i]=D(t[i]))}return e}var A={}.toString;function N(t){return A.call(t).slice(8,-1)}var M="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator",U="symbol"===typeof M?function(t){var e;return null!=t&&(e=t[M])&&e.apply(t)}:function(){return null},F={};function B(t){var e,n,r,o;if(1===arguments.length){if(u(t))return t.slice();if(this===F&&"string"===typeof t)return[t];if(o=U(t)){for(n=[];!(r=o.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"===typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var K="undefined"!==typeof Symbol?function(t){return"AsyncFunction"===t[Symbol.toStringTag]}:function(){return!1},W="undefined"!==typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function R(t,e){W=t,G=e}var G=function(){return!0},Y=!new Error("").stack;function q(){if(Y)try{throw q.arguments,new Error}catch(t){return t}return new Error}function z(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(G).map((function(t){return"\n"+t})).join("")):""}var H=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],V=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(H),Q={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function X(t,e){this._e=q(),this.name=t,this.message=e}function J(t,e){return t+". Errors: "+Object.keys(e).map((function(t){return e[t].toString()})).filter((function(t,e,n){return n.indexOf(t)===e})).join("\n")}function $(t,e,n,r){this._e=q(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=J(t,e)}function Z(t,e){this._e=q(),this.name="BulkError",this.failures=Object.keys(e).map((function(t){return e[t]})),this.failuresByPos=e,this.message=J(t,e)}v(X).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+z(this._e,2))}},toString:function(){return this.name+": "+this.message}}),v($).from(X),v(Z).from(X);var tt=V.reduce((function(t,e){return t[e]=e+"Error",t}),{}),et=X,nt=V.reduce((function(t,e){var n=e+"Error";function r(t,r){this._e=q(),this.name=n,t?"string"===typeof t?(this.message=t+(r?"\n "+r:""),this.inner=r||null):"object"===typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=Q[e]||n,this.inner=null)}return v(r).from(et),t[e]=r,t}),{});nt.Syntax=SyntaxError,nt.Type=TypeError,nt.Range=RangeError;var rt=H.reduce((function(t,e){return t[e+"Error"]=nt[e],t}),{});var ot=V.reduce((function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=nt[e]),t}),{});function it(){}function at(t){return t}function ut(t,e){return null==t||t===at?e:function(n){return e(t(n))}}function ct(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function st(t,e){return t===it?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?ct(r,this.onsuccess):r),o&&(this.onerror=this.onerror?ct(o,this.onerror):o),void 0!==i?i:n}}function lt(t,e){return t===it?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?ct(n,this.onsuccess):n),r&&(this.onerror=this.onerror?ct(r,this.onerror):r)}}function ft(t,e){return t===it?e:function(n){var r=t.apply(this,arguments);c(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?ct(o,this.onsuccess):o),i&&(this.onerror=this.onerror?ct(i,this.onerror):i),void 0===r?void 0===a?void 0:a:c(r,a)}}function ht(t,e){return t===it?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function dt(t,e){return t===it?e:function(){var n=t.apply(this,arguments);if(n&&"function"===typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then((function(){return e.apply(r,i)}))}return e.apply(this,arguments)}}ot.ModifyError=$,ot.DexieError=X,ot.BulkError=Z;var pt={},vt=100,yt="undefined"===typeof Promise?[]:function(){var t=Promise.resolve();if("undefined"===typeof crypto||!crypto.subtle)return[t,s(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,s(e),t]}(),bt=yt[0],mt=yt[1],gt=yt[2],wt=mt&&mt.then,xt=bt&&bt.constructor,Ot=!!gt,jt=!1,_t=gt?function(){gt.then(Ht)}:i.setImmediate?setImmediate.bind(null,Ht):i.MutationObserver?function(){var t=document.createElement("div");new MutationObserver((function(){Ht(),t=null})).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(Ht,0)},kt=function(t,e){At.push([t,e]),St&&(_t(),St=!1)},Et=!0,St=!0,Lt=[],Tt=[],Pt=null,It=at,Ct={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:me,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((function(t){try{me(t[0],t[1])}catch(e){}}))}},Dt=Ct,At=[],Nt=0,Mt=[];function Ut(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=it,this._lib=!1;var e=this._PSD=Dt;if(W&&(this._stackHolder=q(),this._prev=null,this._numPrev=0),"function"!==typeof t){if(t!==pt)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Wt(this,this._value))}this._state=null,this._value=null,++e.ref,Kt(this,t)}var Ft={get:function(){var t=Dt,e=re;function n(n,r){var o=this,i=!t.global&&(t!==Dt||e!==re),a=i&&!ue(),u=new Ut((function(e,u){Gt(o,new Bt(ve(n,t,i,a),ve(r,t,i,a),e,u,t))}));return W&&zt(u,this),u}return n.prototype=pt,n},set:function(t){p(this,"then",t&&t.prototype===pt?Ft:{get:function(){return t},set:Ft.set})}};function Bt(t,e,n,r,o){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.resolve=n,this.reject=r,this.psd=o}function Kt(t,e){try{e((function(e){if(null===t._state){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&Vt();e&&"function"===typeof e.then?Kt(t,(function(t,n){e instanceof Ut?e._then(t,n):e.then(t,n)})):(t._state=!0,t._value=e,Rt(t)),n&&Qt()}}),Wt.bind(null,t))}catch(n){Wt(t,n)}}function Wt(t,e){if(Tt.push(e),null===t._state){var n=t._lib&&Vt();e=It(e),t._state=!1,t._value=e,W&&null!==e&&"object"===typeof e&&!e._promise&&function(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}((function(){var n=b(e,"stack");e._promise=t,p(e,"stack",{get:function(){return jt?n&&(n.get?n.get.apply(e):n.value):t.stack}})})),function(t){Lt.some((function(e){return e._value===t._value}))||Lt.push(t)}(t),Rt(t),n&&Qt()}}function Rt(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Gt(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),0===Nt&&(++Nt,kt((function(){0===--Nt&&Xt()}),[]))}function Gt(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Nt,kt(Yt,[n,t,e])}else t._listeners.push(e)}function Yt(t,e,n){try{Pt=e;var r,o=e._value;e._state?r=t(o):(Tt.length&&(Tt=[]),r=t(o),-1===Tt.indexOf(o)&&function(t){var e=Lt.length;for(;e;)if(Lt[--e]._value===t._value)return void Lt.splice(e,1)}(e)),n.resolve(r)}catch(i){n.reject(i)}finally{Pt=null,0===--Nt&&Xt(),--n.psd.ref||n.psd.finalize()}}function qt(t,e,n){if(e.length===n)return e;var r="";if(!1===t._state){var o,i,a=t._value;null!=a?(o=a.name||"Error",i=a.message||a,r=z(a,0)):(o=a,i=""),e.push(o+(i?": "+i:"")+r)}return W&&((r=z(t._stackHolder,2))&&-1===e.indexOf(r)&&e.push(r),t._prev&&qt(t._prev,e,n)),e}function zt(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function Ht(){Vt()&&Qt()}function Vt(){var t=Et;return Et=!1,St=!1,t}function Qt(){var t,e,n;do{for(;At.length>0;)for(t=At,At=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(At.length>0);Et=!0,St=!0}function Xt(){var t=Lt;Lt=[],t.forEach((function(t){t._PSD.onunhandled.call(null,t._value,t)}));for(var e=Mt.slice(0),n=e.length;n;)e[--n]()}function Jt(t){return new Ut(pt,!1,t)}function $t(t,e){var n=Dt;return function(){var r=Vt(),o=Dt;try{return fe(n,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{fe(o,!1),r&&Qt()}}}h(Ut.prototype,{then:Ft,_then:function(t,e){Gt(this,new Bt(null,null,t,e,Dt))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"===typeof e?this.then(null,(function(t){return t instanceof e?n(t):Jt(t)})):this.then(null,(function(t){return t&&t.name===e?n(t):Jt(t)}))},finally:function(t){return this.then((function(e){return t(),e}),(function(e){return t(),Jt(e)}))},stack:{get:function(){if(this._stack)return this._stack;try{jt=!0;var t=qt(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{jt=!1}}},timeout:function(t,e){var n=this;return t<1/0?new Ut((function(r,o){var i=setTimeout((function(){return o(new nt.Timeout(e))}),t);n.then(r,o).finally(clearTimeout.bind(null,i))})):this}}),"undefined"!==typeof Symbol&&Symbol.toStringTag&&p(Ut.prototype,Symbol.toStringTag,"Dexie.Promise"),Ct.env=he(),h(Ut,{all:function(){var t=B.apply(null,arguments).map(ce);return new Ut((function(e,n){0===t.length&&e([]);var r=t.length;t.forEach((function(o,i){return Ut.resolve(o).then((function(n){t[i]=n,--r||e(t)}),n)}))}))},resolve:function(t){if(t instanceof Ut)return t;if(t&&"function"===typeof t.then)return new Ut((function(e,n){t.then(e,n)}));var e=new Ut(pt,!0,t);return zt(e,Pt),e},reject:Jt,race:function(){var t=B.apply(null,arguments).map(ce);return new Ut((function(e,n){t.map((function(t){return Ut.resolve(t).then(e,n)}))}))},PSD:{get:function(){return Dt},set:function(t){return Dt=t}},totalEchoes:{get:function(){return re}},newPSD:ie,usePSD:de,scheduler:{get:function(){return kt},set:function(t){kt=t}},rejectionMapper:{get:function(){return It},set:function(t){It=t}},follow:function(t,e){return new Ut((function(n,r){return ie((function(e,n){var r=Dt;r.unhandleds=[],r.onunhandled=n,r.finalize=ct((function(){var t=this;!function(t){function e(){t(),Mt.splice(Mt.indexOf(e),1)}Mt.push(e),++Nt,kt((function(){0===--Nt&&Xt()}),[])}((function(){0===t.unhandleds.length?e():n(t.unhandleds[0])}))}),r.finalize),t()}),e,n,r)}))}}),xt&&(xt.allSettled&&p(Ut,"allSettled",(function(){var t=B.apply(null,arguments).map(ce);return new Ut((function(e){0===t.length&&e([]);var n=t.length,r=new Array(n);t.forEach((function(t,o){return Ut.resolve(t).then((function(t){return r[o]={status:"fulfilled",value:t}}),(function(t){return r[o]={status:"rejected",reason:t}})).then((function(){return--n||e(r)}))}))}))})),xt.any&&"undefined"!==typeof AggregateError&&p(Ut,"any",(function(){var t=B.apply(null,arguments).map(ce);return new Ut((function(e,n){0===t.length&&n(new AggregateError([]));var r=t.length,o=new Array(r);t.forEach((function(t,i){return Ut.resolve(t).then((function(t){return e(t)}),(function(t){o[i]=t,--r||n(new AggregateError(o))}))}))}))})));var Zt={awaits:0,echoes:0,id:0},te=0,ee=[],ne=0,re=0,oe=0;function ie(t,e,n,r){var o=Dt,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++oe;var a=Ct.env;i.env=Ot?{Promise:Ut,PromiseProp:{value:Ut,configurable:!0,writable:!0},all:Ut.all,race:Ut.race,allSettled:Ut.allSettled,any:Ut.any,resolve:Ut.resolve,reject:Ut.reject,nthen:ye(a.nthen,i),gthen:ye(a.gthen,i)}:{},e&&c(i,e),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=de(i,t,n,r);return 0===i.ref&&i.finalize(),u}function ae(){return Zt.id||(Zt.id=++te),++Zt.awaits,Zt.echoes+=vt,Zt.id}function ue(){return!!Zt.awaits&&(0===--Zt.awaits&&(Zt.id=0),Zt.echoes=Zt.awaits*vt,!0)}function ce(t){return Zt.echoes&&t&&t.constructor===xt?(ae(),t.then((function(t){return ue(),t}),(function(t){return ue(),ge(t)}))):t}function se(t){++re,Zt.echoes&&0!==--Zt.echoes||(Zt.echoes=Zt.id=0),ee.push(Dt),fe(t,!0)}function le(){var t=ee[ee.length-1];ee.pop(),fe(t,!1)}function fe(t,e){var n=Dt;if((e?!Zt.echoes||ne++&&t===Dt:!ne||--ne&&t===Dt)||pe(e?se.bind(null,t):le),t!==Dt&&(Dt=t,n===Ct&&(Ct.env=he()),Ot)){var r=Ct.env.Promise,o=t.env;mt.then=o.nthen,r.prototype.then=o.gthen,(n.global||t.global)&&(Object.defineProperty(i,"Promise",o.PromiseProp),r.all=o.all,r.race=o.race,r.resolve=o.resolve,r.reject=o.reject,o.allSettled&&(r.allSettled=o.allSettled),o.any&&(r.any=o.any))}}function he(){var t=i.Promise;return Ot?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:mt.then,gthen:t.prototype.then}:{}}function de(t,e,n,r,o){var i=Dt;try{return fe(t,!0),e(n,r,o)}finally{fe(i,!1)}}function pe(t){wt.call(bt,t)}function ve(t,e,n,r){return"function"!==typeof t?t:function(){var o=Dt;n&&ae(),fe(e,!0);try{return t.apply(this,arguments)}finally{fe(o,!1),r&&pe(ue)}}}function ye(t,e){return function(n,r){return t.call(this,ve(n,e),ve(r,e))}}-1===(""+wt).indexOf("[native code]")&&(ae=ue=it);var be="unhandledrejection";function me(t,e){var n;try{n=e.onuncatched(t)}catch(a){}if(!1!==n)try{var r,o={promise:e,reason:t};if(i.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(be,!0,!0),c(r,o)):i.CustomEvent&&c(r=new CustomEvent(be,{detail:o}),o),r&&i.dispatchEvent&&(dispatchEvent(r),!i.PromiseRejectionEvent&&i.onunhandledrejection))try{i.onunhandledrejection(r)}catch(u){}W&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch(a){}}var ge=Ut.reject;function we(t,e,n,r){if(t.idbdb&&(t._state.openComplete||Dt.letThrough||t._vip)){var o=t._createTransaction(e,n,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===tt.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((function(){return we(t,e,n,r)}))):ge(i)}return o._promise(e,(function(t,e){return ie((function(){return Dt.trans=o,r(t,e,o)}))})).then((function(t){return o._completion.then((function(){return t}))}))}if(t._state.openComplete)return ge(new nt.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return ge(new nt.DatabaseClosed);t.open().catch(it)}return t._state.dbReadyPromise.then((function(){return we(t,e,n,r)}))}var xe="3.2.4",Oe=String.fromCharCode(65535),je=-1/0,_e="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ke="String expected.",Ee=[],Se="undefined"!==typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Le=Se,Te=Se,Pe=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},Ie="__dbnames",Ce="readonly",De="readwrite";function Ae(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var Ne={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Me(t){return"string"!==typeof t||/\./.test(t)?function(t){return t}:function(e){return void 0===e[t]&&t in e&&delete(e=C(e))[t],e}}var Ue=function(){function t(){}return t.prototype._trans=function(t,e,n){var r=this._tx||Dt.trans,o=this.name;function i(t,n,r){if(!r.schema[o])throw new nt.NotFound("Table "+o+" not part of transaction");return e(r.idbtrans,r)}var a=Vt();try{return r&&r.db===this.db?r===Dt.trans?r._promise(t,i,n):ie((function(){return r._promise(t,i,n)}),{trans:r,transless:Dt.transless||Dt}):we(this.db,t,[this.name],i)}finally{a&&Qt()}},t.prototype.get=function(t,e){var n=this;return t&&t.constructor===Object?this.where(t).first(e):this._trans("readonly",(function(e){return n.core.get({trans:e,key:t}).then((function(t){return n.hook.reading.fire(t)}))})).then(e)},t.prototype.where=function(t){if("string"===typeof t)return new this.db.WhereClause(this,t);if(u(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var e=a(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter((function(t){return t.compound&&e.every((function(e){return t.keyPath.indexOf(e)>=0}))&&t.keyPath.every((function(t){return e.indexOf(t)>=0}))}))[0];if(n&&this.db._maxKey!==Oe)return this.where(n.name).equals(n.keyPath.map((function(e){return t[e]})));!n&&W&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a compound index ["+e.join("+")+"]");var r=this.schema.idxByName,o=this.db._deps.indexedDB;function i(t,e){try{return 0===o.cmp(t,e)}catch(n){return!1}}var c=e.reduce((function(e,n){var o=e[0],a=e[1],c=r[n],s=t[n];return[o||c,o||!c?Ae(a,c&&c.multi?function(t){var e=_(t,n);return u(e)&&e.some((function(t){return i(s,t)}))}:function(t){return i(s,_(t,n))}):a]}),[null,null]),s=c[0],l=c[1];return s?this.where(s.name).equals(t[s.keyPath]).filter(l):n?this.filter(l):this.where(e).equals("")},t.prototype.filter=function(t){return this.toCollection().and(t)},t.prototype.count=function(t){return this.toCollection().count(t)},t.prototype.offset=function(t){return this.toCollection().offset(t)},t.prototype.limit=function(t){return this.toCollection().limit(t)},t.prototype.each=function(t){return this.toCollection().each(t)},t.prototype.toArray=function(t){return this.toCollection().toArray(t)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,u(t)?"["+t.join("+")+"]":t))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(t){this.schema.mappedClass=t;var e=function(e){if(!e)return e;var n=Object.create(t.prototype);for(var r in e)if(f(e,r))try{n[r]=e[r]}catch(o){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),t},t.prototype.defineClass=function(){return this.mapToClass((function(t){c(this,t)}))},t.prototype.add=function(t,e){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=t;return i&&o&&(a=Me(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"add",keys:null!=e?[e]:null,values:[a]})})).then((function(t){return t.numFailures?Ut.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{k(t,i,e)}catch(n){}return e}))},t.prototype.update=function(t,e){if("object"!==typeof t||u(t))return this.where(":id").equals(t).modify(e);var n=_(t,this.schema.primKey.keyPath);if(void 0===n)return ge(new nt.InvalidArgument("Given object does not contain its primary key"));try{"function"!==typeof e?a(e).forEach((function(n){k(t,n,e[n])})):e(t,{value:t,primKey:n})}catch(Vn){}return this.where(":id").equals(n).modify(e)},t.prototype.put=function(t,e){var n=this,r=this.schema.primKey,o=r.auto,i=r.keyPath,a=t;return i&&o&&(a=Me(i)(t)),this._trans("readwrite",(function(t){return n.core.mutate({trans:t,type:"put",values:[a],keys:null!=e?[e]:null})})).then((function(t){return t.numFailures?Ut.reject(t.failures[0]):t.lastResult})).then((function(e){if(i)try{k(t,i,e)}catch(n){}return e}))},t.prototype.delete=function(t){var e=this;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:[t]})})).then((function(t){return t.numFailures?Ut.reject(t.failures[0]):void 0}))},t.prototype.clear=function(){var t=this;return this._trans("readwrite",(function(e){return t.core.mutate({trans:e,type:"deleteRange",range:Ne})})).then((function(t){return t.numFailures?Ut.reject(t.failures[0]):void 0}))},t.prototype.bulkGet=function(t){var e=this;return this._trans("readonly",(function(n){return e.core.getMany({keys:t,trans:n}).then((function(t){return t.map((function(t){return e.hook.reading.fire(t)}))}))}))},t.prototype.bulkAdd=function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,i=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new nt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new nt.InvalidArgument("Arguments objects and keys must have the same length");var c=t.length,s=u&&a?t.map(Me(u)):t;return r.core.mutate({trans:e,type:"add",keys:o,values:s,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,a=t.failures;if(0===e)return i?n:o;throw new Z(r.name+".bulkAdd(): "+e+" of "+c+" operations failed",a)}))}))},t.prototype.bulkPut=function(t,e,n){var r=this,o=Array.isArray(e)?e:void 0,i=(n=n||(o?void 0:e))?n.allKeys:void 0;return this._trans("readwrite",(function(e){var n=r.schema.primKey,a=n.auto,u=n.keyPath;if(u&&o)throw new nt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new nt.InvalidArgument("Arguments objects and keys must have the same length");var c=t.length,s=u&&a?t.map(Me(u)):t;return r.core.mutate({trans:e,type:"put",keys:o,values:s,wantResults:i}).then((function(t){var e=t.numFailures,n=t.results,o=t.lastResult,a=t.failures;if(0===e)return i?n:o;throw new Z(r.name+".bulkPut(): "+e+" of "+c+" operations failed",a)}))}))},t.prototype.bulkDelete=function(t){var e=this,n=t.length;return this._trans("readwrite",(function(n){return e.core.mutate({trans:n,type:"delete",keys:t})})).then((function(t){var r=t.numFailures,o=t.lastResult,i=t.failures;if(0===r)return o;throw new Z(e.name+".bulkDelete(): "+r+" of "+n+" operations failed",i)}))},t}();function Fe(t){var e={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return e[n].subscribe.apply(null,i),t}if("string"===typeof n)return e[n]};n.addEventType=i;for(var r=1,o=arguments.length;r<o;++r)i(arguments[r]);return n;function i(t,r,o){if("object"!==typeof t){var c;r||(r=ht),o||(o=it);var s={subscribers:[],fire:o,subscribe:function(t){-1===s.subscribers.indexOf(t)&&(s.subscribers.push(t),s.fire=r(s.fire,t))},unsubscribe:function(t){s.subscribers=s.subscribers.filter((function(e){return e!==t})),s.fire=s.subscribers.reduce(r,o)}};return e[t]=n[t]=s,s}a(c=t).forEach((function(t){var e=c[t];if(u(e))i(t,c[t][0],c[t][1]);else{if("asap"!==e)throw new nt.InvalidArgument("Invalid event config");var n=i(t,at,(function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];n.subscribers.forEach((function(t){O((function(){t.apply(null,e)}))}))}))}}))}}function Be(t,e){return v(e).from({prototype:t}),e}function Ke(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function We(t,e){t.filter=Ae(t.filter,e)}function Re(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return Ae(r(),e())}:e,t.justLimit=n&&!r}function Ge(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new nt.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function Ye(t,e,n){var r=Ge(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:"prev"===t.dir,unique:!!t.unique,query:{index:r,range:t.range}})}function qe(t,e,n,r){var o=t.replayFilter?Ae(t.filter,t.replayFilter()):t.filter;if(t.or){var i={},a=function(t,n,r){if(!o||o(n,r,(function(t){return n.stop(t)}),(function(t){return n.fail(t)}))){var a=n.primaryKey,u=""+a;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(a)),f(i,u)||(i[u]=!0,e(t,n,r))}};return Promise.all([t.or._iterate(a,n),ze(Ye(t,r,n),t.algorithm,a,!t.keysOnly&&t.valueMapper)])}return ze(Ye(t,r,n),Ae(t.algorithm,o),e,!t.keysOnly&&t.valueMapper)}function ze(t,e,n,r){var o=$t(r?function(t,e,o){return n(r(t),e,o)}:n);return t.then((function(t){if(t)return t.start((function(){var n=function(){return t.continue()};e&&!e(t,(function(t){return n=t}),(function(e){t.stop(e),n=it}),(function(e){t.fail(e),n=it}))||o(t.value,t,(function(t){return n=t})),n()}))}))}function He(t,e){try{var n=Ve(t),r=Ve(e);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(t,e){for(var n=t.length,r=e.length,o=n<r?n:r,i=0;i<o;++i)if(t[i]!==e[i])return t[i]<e[i]?-1:1;return n===r?0:n<r?-1:1}(Qe(t),Qe(e));case"Array":return function(t,e){for(var n=t.length,r=e.length,o=n<r?n:r,i=0;i<o;++i){var a=He(t[i],e[i]);if(0!==a)return a}return n===r?0:n<r?-1:1}(t,e)}}catch(Vn){}return NaN}function Ve(t){var e=typeof t;if("object"!==e)return e;if(ArrayBuffer.isView(t))return"binary";var n=N(t);return"ArrayBuffer"===n?"binary":n}function Qe(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var Xe=function(){function t(){}return t.prototype._read=function(t,e){var n=this._ctx;return n.error?n.table._trans(null,ge.bind(null,n.error)):n.table._trans("readonly",t).then(e)},t.prototype._write=function(t){var e=this._ctx;return e.error?e.table._trans(null,ge.bind(null,e.error)):e.table._trans("readwrite",t,"locked")},t.prototype._addAlgorithm=function(t){var e=this._ctx;e.algorithm=Ae(e.algorithm,t)},t.prototype._iterate=function(t,e){return qe(this._ctx,t,e,this._ctx.table.core)},t.prototype.clone=function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&c(n,t),e._ctx=n,e},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(t){var e=this._ctx;return this._read((function(n){return qe(e,t,n,e.table.core)}))},t.prototype.count=function(t){var e=this;return this._read((function(t){var n=e._ctx,r=n.table.core;if(Ke(n,!0))return r.count({trans:t,query:{index:Ge(n,r.schema),range:n.range}}).then((function(t){return Math.min(t,n.limit)}));var o=0;return qe(n,(function(){return++o,!1}),t,r).then((function(){return o}))})).then(t)},t.prototype.sortBy=function(t,e){var n=t.split(".").reverse(),r=n[0],o=n.length-1;function i(t,e){return e?i(t[n[e]],e-1):t[r]}var a="next"===this._ctx.dir?1:-1;function u(t,e){var n=i(t,o),r=i(e,o);return n<r?-a:n>r?a:0}return this.toArray((function(t){return t.sort(u)})).then(e)},t.prototype.toArray=function(t){var e=this;return this._read((function(t){var n=e._ctx;if("next"===n.dir&&Ke(n,!0)&&n.limit>0){var r=n.valueMapper,o=Ge(n,n.table.core.schema);return n.table.core.query({trans:t,limit:n.limit,values:!0,query:{index:o,range:n.range}}).then((function(t){var e=t.result;return r?e.map(r):e}))}var i=[];return qe(n,(function(t){return i.push(t)}),t,n.table.core).then((function(){return i}))}),t)},t.prototype.offset=function(t){var e=this._ctx;return t<=0||(e.offset+=t,Ke(e)?Re(e,(function(){var e=t;return function(t,n){return 0===e||(1===e?(--e,!1):(n((function(){t.advance(e),e=0})),!1))}})):Re(e,(function(){var e=t;return function(){return--e<0}}))),this},t.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Re(this._ctx,(function(){var e=t;return function(t,n,r){return--e<=0&&n(r),e>=0}}),!0),this},t.prototype.until=function(t,e){return We(this._ctx,(function(n,r,o){return!t(n.value)||(r(o),e)})),this},t.prototype.first=function(t){return this.limit(1).toArray((function(t){return t[0]})).then(t)},t.prototype.last=function(t){return this.reverse().first(t)},t.prototype.filter=function(t){var e,n;return We(this._ctx,(function(e){return t(e.value)})),e=this._ctx,n=t,e.isMatch=Ae(e.isMatch,n),this},t.prototype.and=function(t){return this.filter(t)},t.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},t.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.key,n)}))},t.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},t.prototype.eachPrimaryKey=function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each((function(e,n){t(n.primaryKey,n)}))},t.prototype.keys=function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.key)})).then((function(){return n})).then(t)},t.prototype.primaryKeys=function(t){var e=this._ctx;if("next"===e.dir&&Ke(e,!0)&&e.limit>0)return this._read((function(t){var n=Ge(e,e.table.core.schema);return e.table.core.query({trans:t,values:!1,limit:e.limit,query:{index:n,range:e.range}})})).then((function(t){return t.result})).then(t);e.keysOnly=!e.isMatch;var n=[];return this.each((function(t,e){n.push(e.primaryKey)})).then((function(){return n})).then(t)},t.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},t.prototype.firstKey=function(t){return this.limit(1).keys((function(t){return t[0]})).then(t)},t.prototype.lastKey=function(t){return this.reverse().firstKey(t)},t.prototype.distinct=function(){var t=this._ctx,e=t.index&&t.table.schema.idxByName[t.index];if(!e||!e.multi)return this;var n={};return We(this._ctx,(function(t){var e=t.primaryKey.toString(),r=f(n,e);return n[e]=!0,!r})),this},t.prototype.modify=function(t){var e=this,n=this._ctx;return this._write((function(r){var o;if("function"===typeof t)o=t;else{var i=a(t),u=i.length;o=function(e){for(var n=!1,r=0;r<u;++r){var o=i[r],a=t[o];_(e,o)!==a&&(k(e,o,a),n=!0)}return n}}var c=n.table.core,s=c.schema.primaryKey,l=s.outbound,f=s.extractKey,h=e.db._options.modifyChunkSize||200,d=[],p=0,v=[],y=function(t,e){var n=e.failures,r=e.numFailures;p+=t-r;for(var o=0,i=a(n);o<i.length;o++){var u=i[o];d.push(n[u])}};return e.clone().primaryKeys().then((function(e){return function i(a){var u=Math.min(h,e.length-a);return c.getMany({trans:r,keys:e.slice(a,a+u),cache:"immutable"}).then((function(s){for(var d=[],p=[],v=l?[]:null,b=[],m=0;m<u;++m){var g=s[m],w={value:C(g),primKey:e[a+m]};!1!==o.call(w,w.value,w)&&(null==w.value?b.push(e[a+m]):l||0===He(f(g),f(w.value))?(p.push(w.value),l&&v.push(e[a+m])):(b.push(e[a+m]),d.push(w.value)))}var x=Ke(n)&&n.limit===1/0&&("function"!==typeof t||t===Je)&&{index:n.index,range:n.range};return Promise.resolve(d.length>0&&c.mutate({trans:r,type:"add",values:d}).then((function(t){for(var e in t.failures)b.splice(parseInt(e),1);y(d.length,t)}))).then((function(){return(p.length>0||x&&"object"===typeof t)&&c.mutate({trans:r,type:"put",keys:v,values:p,criteria:x,changeSpec:"function"!==typeof t&&t}).then((function(t){return y(p.length,t)}))})).then((function(){return(b.length>0||x&&t===Je)&&c.mutate({trans:r,type:"delete",keys:b,criteria:x}).then((function(t){return y(b.length,t)}))})).then((function(){return e.length>a+u&&i(a+h)}))}))}(0).then((function(){if(d.length>0)throw new $("Error modifying one or more objects",d,p,v);return e.length}))}))}))},t.prototype.delete=function(){var t=this._ctx,e=t.range;return Ke(t)&&(t.isPrimKey&&!Te||3===e.type)?this._write((function(n){var r=t.table.core.schema.primaryKey,o=e;return t.table.core.count({trans:n,query:{index:r,range:o}}).then((function(e){return t.table.core.mutate({trans:n,type:"deleteRange",range:o}).then((function(t){var n=t.failures;t.lastResult,t.results;var r=t.numFailures;if(r)throw new $("Could not delete some values",Object.keys(n).map((function(t){return n[t]})),e-r);return e-r}))}))})):this.modify(Je)},t}(),Je=function(t,e){return e.value=null};function $e(t,e){return t<e?-1:t===e?0:1}function Ze(t,e){return t>e?-1:t===e?0:1}function tn(t,e,n){var r=t instanceof un?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function en(t){return new t.Collection(t,(function(){return an("")})).limit(0)}function nn(t,e,n,r,o,i){for(var a=Math.min(t.length,r.length),u=-1,c=0;c<a;++c){var s=e[c];if(s!==r[c])return o(t[c],n[c])<0?t.substr(0,c)+n[c]+n.substr(c+1):o(t[c],r[c])<0?t.substr(0,c)+r[c]+n.substr(c+1):u>=0?t.substr(0,u)+e[u]+n.substr(u+1):null;o(t[c],s)<0&&(u=c)}return a<r.length&&"next"===i?t+n.substr(t.length):a<t.length&&"prev"===i?t.substr(0,n.length):u<0?null:t.substr(0,u)+r[u]+n.substr(u+1)}function rn(t,e,n,r){var o,i,a,u,c,s,l,f=n.length;if(!n.every((function(t){return"string"===typeof t})))return tn(t,ke);function h(t){o=function(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}(t),i=function(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}(t),a="next"===t?$e:Ze;var e=n.map((function(t){return{lower:i(t),upper:o(t)}})).sort((function(t,e){return a(t.lower,e.lower)}));u=e.map((function(t){return t.upper})),c=e.map((function(t){return t.lower})),s=t,l="next"===t?"":r}h("next");var d=new t.Collection(t,(function(){return on(u[0],c[f-1]+r)}));d._ondirectionchange=function(t){h(t)};var p=0;return d._addAlgorithm((function(t,n,r){var o=t.key;if("string"!==typeof o)return!1;var h=i(o);if(e(h,c,p))return!0;for(var d=null,v=p;v<f;++v){var y=nn(o,h,u[v],c[v],a,s);null===y&&null===d?p=v+1:(null===d||a(d,y)>0)&&(d=y)}return n(null!==d?function(){t.continue(d+l)}:r),!1})),d}function on(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function an(t){return{type:1,lower:t,upper:t}}var un=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(t,e,n,r){n=!1!==n,r=!0===r;try{return this._cmp(t,e)>0||0===this._cmp(t,e)&&(n||r)&&(!n||!r)?en(this):new this.Collection(this,(function(){return on(t,e,!n,!r)}))}catch(o){return tn(this,_e)}},t.prototype.equals=function(t){return null==t?tn(this,_e):new this.Collection(this,(function(){return an(t)}))},t.prototype.above=function(t){return null==t?tn(this,_e):new this.Collection(this,(function(){return on(t,void 0,!0)}))},t.prototype.aboveOrEqual=function(t){return null==t?tn(this,_e):new this.Collection(this,(function(){return on(t,void 0,!1)}))},t.prototype.below=function(t){return null==t?tn(this,_e):new this.Collection(this,(function(){return on(void 0,t,!1,!0)}))},t.prototype.belowOrEqual=function(t){return null==t?tn(this,_e):new this.Collection(this,(function(){return on(void 0,t)}))},t.prototype.startsWith=function(t){return"string"!==typeof t?tn(this,ke):this.between(t,t+Oe,!0,!0)},t.prototype.startsWithIgnoreCase=function(t){return""===t?this.startsWith(t):rn(this,(function(t,e){return 0===t.indexOf(e[0])}),[t],Oe)},t.prototype.equalsIgnoreCase=function(t){return rn(this,(function(t,e){return t===e[0]}),[t],"")},t.prototype.anyOfIgnoreCase=function(){var t=B.apply(F,arguments);return 0===t.length?en(this):rn(this,(function(t,e){return-1!==e.indexOf(t)}),t,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var t=B.apply(F,arguments);return 0===t.length?en(this):rn(this,(function(t,e){return e.some((function(e){return 0===t.indexOf(e)}))}),t,Oe)},t.prototype.anyOf=function(){var t=this,e=B.apply(F,arguments),n=this._cmp;try{e.sort(n)}catch(i){return tn(this,_e)}if(0===e.length)return en(this);var r=new this.Collection(this,(function(){return on(e[0],e[e.length-1])}));r._ondirectionchange=function(r){n="next"===r?t._ascending:t._descending,e.sort(n)};var o=0;return r._addAlgorithm((function(t,r,i){for(var a=t.key;n(a,e[o])>0;)if(++o===e.length)return r(i),!1;return 0===n(a,e[o])||(r((function(){t.continue(e[o])})),!1)})),r},t.prototype.notEqual=function(t){return this.inAnyRange([[je,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var t=B.apply(F,arguments);if(0===t.length)return new this.Collection(this);try{t.sort(this._ascending)}catch(n){return tn(this,_e)}var e=t.reduce((function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[je,e]]}),null);return e.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(t,e){var n=this,r=this._cmp,o=this._ascending,i=this._descending,a=this._min,u=this._max;if(0===t.length)return en(this);if(!t.every((function(t){return void 0!==t[0]&&void 0!==t[1]&&o(t[0],t[1])<=0})))return tn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",nt.InvalidArgument);var c=!e||!1!==e.includeLowers,s=e&&!0===e.includeUppers;var l,f=o;function h(t,e){return f(t[0],e[0])}try{l=t.reduce((function(t,e){for(var n=0,o=t.length;n<o;++n){var i=t[n];if(r(e[0],i[1])<0&&r(e[1],i[0])>0){i[0]=a(i[0],e[0]),i[1]=u(i[1],e[1]);break}}return n===o&&t.push(e),t}),[]),l.sort(h)}catch(m){return tn(this,_e)}var d=0,p=s?function(t){return o(t,l[d][1])>0}:function(t){return o(t,l[d][1])>=0},v=c?function(t){return i(t,l[d][0])>0}:function(t){return i(t,l[d][0])>=0};var y=p,b=new this.Collection(this,(function(){return on(l[0][0],l[l.length-1][1],!c,!s)}));return b._ondirectionchange=function(t){"next"===t?(y=p,f=o):(y=v,f=i),l.sort(h)},b._addAlgorithm((function(t,e,r){for(var i=t.key;y(i);)if(++d===l.length)return e(r),!1;return!!function(t){return!p(t)&&!v(t)}(i)||(0===n._cmp(i,l[d][1])||0===n._cmp(i,l[d][0])||e((function(){f===o?t.continue(l[d][0]):t.continue(l[d][1])})),!1)})),b},t.prototype.startsWithAnyOf=function(){var t=B.apply(F,arguments);return t.every((function(t){return"string"===typeof t}))?0===t.length?en(this):this.inAnyRange(t.map((function(t){return[t,t+Oe]}))):tn(this,"startsWithAnyOf() only works with strings")},t}();function cn(t){return $t((function(e){return sn(e),t(e.target.error),!1}))}function sn(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var ln="storagemutated",fn="x-storagemutated-1",hn=Fe(null,ln),dn=function(){function t(){}return t.prototype._lock=function(){return x(!Dt.global),++this._reculock,1!==this._reculock||Dt.global||(Dt.lockOwnerFor=this),this},t.prototype._unlock=function(){if(x(!Dt.global),0===--this._reculock)for(Dt.global||(Dt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{de(t[1],t[0])}catch(e){}}return this},t.prototype._locked=function(){return this._reculock&&Dt.lockOwnerFor!==this},t.prototype.create=function(t){var e=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(x(!this.idbtrans),!t&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new nt.DatabaseClosed(r);case"MissingAPIError":throw new nt.MissingAPI(r.message,r);default:throw new nt.OpenFailed(r)}if(!this.active)throw new nt.TransactionInactive;return x(null===this._completion._state),(t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=$t((function(n){sn(n),e._reject(t.error)})),t.onabort=$t((function(n){sn(n),e.active&&e._reject(new nt.Abort(t.error)),e.active=!1,e.on("abort").fire(n)})),t.oncomplete=$t((function(){e.active=!1,e._resolve(),"mutatedParts"in t&&hn.storagemutated.fire(t.mutatedParts)})),this},t.prototype._promise=function(t,e,n){var r=this;if("readwrite"===t&&"readwrite"!==this.mode)return ge(new nt.ReadOnly("Transaction is readonly"));if(!this.active)return ge(new nt.TransactionInactive);if(this._locked())return new Ut((function(o,i){r._blockedFuncs.push([function(){r._promise(t,e,n).then(o,i)},Dt])}));if(n)return ie((function(){var t=new Ut((function(t,n){r._lock();var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return t.finally((function(){return r._unlock()})),t._lib=!0,t}));var o=new Ut((function(t,n){var o=e(t,n,r);o&&o.then&&o.then(t,n)}));return o._lib=!0,o},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(t){var e=this._root(),n=Ut.resolve(t);if(e._waitingFor)e._waitingFor=e._waitingFor.then((function(){return n}));else{e._waitingFor=n,e._waitingQueue=[];var r=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(r.get(-1/0).onsuccess=t)}()}var o=e._waitingFor;return new Ut((function(t,r){n.then((function(n){return e._waitingQueue.push($t(t.bind(null,n)))}),(function(t){return e._waitingQueue.push($t(r.bind(null,t)))})).finally((function(){e._waitingFor===o&&(e._waitingFor=null)}))}))},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new nt.Abort))},t.prototype.table=function(t){var e=this._memoizedTables||(this._memoizedTables={});if(f(e,t))return e[t];var n=this.schema[t];if(!n)throw new nt.NotFound("Table "+t+" not part of transaction");var r=new this.db.Table(t,n,this);return r.core=this.db.core.table(t),e[t]=r,r},t}();function pn(t,e,n,r,o,i,a){return{name:t,keyPath:e,unique:n,multi:r,auto:o,compound:i,src:(n&&!a?"&":"")+(r?"*":"")+(o?"++":"")+vn(e)}}function vn(t){return"string"===typeof t?t:t?"["+[].join.call(t,"+")+"]":""}function yn(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:j(n,(function(t){return[t.name,t]}))}}var bn=function(t){try{return t.only([[]]),bn=function(){return[[]]},[[]]}catch(e){return bn=function(){return Oe},Oe}};function mn(t){return null==t?function(){}:"string"===typeof t?function(t){var e=t.split(".");return 1===e.length?function(e){return e[t]}:function(e){return _(e,t)}}(t):function(e){return _(e,t)}}function gn(t){return[].slice.call(t)}var wn=0;function xn(t){return null==t?":id":"string"===typeof t?t:"["+t.join("+")+"]"}function On(t,e,n){function r(t){if(3===t.type)return null;if(4===t.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=t.lower,r=t.upper,o=t.lowerOpen,i=t.upperOpen;return void 0===n?void 0===r?null:e.upperBound(r,!!i):void 0===r?e.lowerBound(n,!!o):e.bound(n,r,!!o,!!i)}var o=function(t,e){var n=gn(t.objectStoreNames);return{schema:{name:t.name,tables:n.map((function(t){return e.objectStore(t)})).map((function(t){var e=t.keyPath,n=t.autoIncrement,r=u(e),o=null==e,i={},a={name:t.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:o,compound:r,keyPath:e,autoIncrement:n,unique:!0,extractKey:mn(e)},indexes:gn(t.indexNames).map((function(e){return t.index(e)})).map((function(t){var e=t.name,n=t.unique,r=t.multiEntry,o=t.keyPath,a={name:e,compound:u(o),keyPath:o,unique:n,multiEntry:r,extractKey:mn(o)};return i[xn(o)]=a,a})),getIndexByKeyPath:function(t){return i[xn(t)]}};return i[":id"]=a.primaryKey,null!=e&&(i[xn(e)]=a.primaryKey),a}))},hasGetAll:n.length>0&&"getAll"in e.objectStore(n[0])&&!("undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),i=o.schema,a=o.hasGetAll,c=i.tables.map((function(t){return function(t){var e=t.name;return{name:e,schema:t,mutate:function(t){var n=t.trans,o=t.type,i=t.keys,a=t.values,u=t.range;return new Promise((function(t,c){t=$t(t);var s=n.objectStore(e),l=null==s.keyPath,f="put"===o||"add"===o;if(!f&&"delete"!==o&&"deleteRange"!==o)throw new Error("Invalid operation type: "+o);var h,d=(i||a||{length:1}).length;if(i&&a&&i.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return t({numFailures:0,failures:{},results:[],lastResult:void 0});var p=[],v=[],y=0,b=function(t){++y,sn(t)};if("deleteRange"===o){if(4===u.type)return t({numFailures:y,failures:v,results:[],lastResult:void 0});3===u.type?p.push(h=s.clear()):p.push(h=s.delete(r(u)))}else{var m=f?l?[a,i]:[a,null]:[i,null],g=m[0],w=m[1];if(f)for(var x=0;x<d;++x)p.push(h=w&&void 0!==w[x]?s[o](g[x],w[x]):s[o](g[x])),h.onerror=b;else for(x=0;x<d;++x)p.push(h=s[o](g[x])),h.onerror=b}var O=function(e){var n=e.target.result;p.forEach((function(t,e){return null!=t.error&&(v[e]=t.error)})),t({numFailures:y,failures:v,results:"delete"===o?i:p.map((function(t){return t.result})),lastResult:n})};h.onerror=function(t){b(t),O(t)},h.onsuccess=O}))},getMany:function(t){var n=t.trans,r=t.keys;return new Promise((function(t,o){t=$t(t);for(var i,a=n.objectStore(e),u=r.length,c=new Array(u),s=0,l=0,f=function(e){var n=e.target;c[n._pos]=n.result,++l===s&&t(c)},h=cn(o),d=0;d<u;++d)null!=r[d]&&((i=a.get(r[d]))._pos=d,i.onsuccess=f,i.onerror=h,++s);0===s&&t(c)}))},get:function(t){var n=t.trans,r=t.key;return new Promise((function(t,o){t=$t(t);var i=n.objectStore(e).get(r);i.onsuccess=function(e){return t(e.target.result)},i.onerror=cn(o)}))},query:function(t){return function(n){return new Promise((function(o,i){o=$t(o);var a=n.trans,u=n.values,c=n.limit,s=n.query,l=c===1/0?void 0:c,f=s.index,h=s.range,d=a.objectStore(e),p=f.isPrimaryKey?d:d.index(f.name),v=r(h);if(0===c)return o({result:[]});if(t){var y=u?p.getAll(v,l):p.getAllKeys(v,l);y.onsuccess=function(t){return o({result:t.target.result})},y.onerror=cn(i)}else{var b=0,m=u||!("openKeyCursor"in p)?p.openCursor(v):p.openKeyCursor(v),g=[];m.onsuccess=function(t){var e=m.result;return e?(g.push(u?e.value:e.primaryKey),++b===c?o({result:g}):void e.continue()):o({result:g})},m.onerror=cn(i)}}))}}(a),openCursor:function(t){var n=t.trans,o=t.values,i=t.query,a=t.reverse,u=t.unique;return new Promise((function(t,c){t=$t(t);var s=i.index,l=i.range,f=n.objectStore(e),h=s.isPrimaryKey?f:f.index(s.name),d=a?u?"prevunique":"prev":u?"nextunique":"next",p=o||!("openKeyCursor"in h)?h.openCursor(r(l),d):h.openKeyCursor(r(l),d);p.onerror=cn(c),p.onsuccess=$t((function(e){var r=p.result;if(r){r.___id=++wn,r.done=!1;var o=r.continue.bind(r),i=r.continuePrimaryKey;i&&(i=i.bind(r));var a=r.advance.bind(r),u=function(){throw new Error("Cursor not stopped")};r.trans=n,r.stop=r.continue=r.continuePrimaryKey=r.advance=function(){throw new Error("Cursor not started")},r.fail=$t(c),r.next=function(){var t=this,e=1;return this.start((function(){return e--?t.continue():t.stop()})).then((function(){return t}))},r.start=function(t){var e=new Promise((function(t,e){t=$t(t),p.onerror=cn(e),r.fail=e,r.stop=function(e){r.stop=r.continue=r.continuePrimaryKey=r.advance=u,t(e)}})),n=function(){if(p.result)try{t()}catch(e){r.fail(e)}else r.done=!0,r.start=function(){throw new Error("Cursor behind last entry")},r.stop()};return p.onsuccess=$t((function(t){p.onsuccess=n,n()})),r.continue=o,r.continuePrimaryKey=i,r.advance=a,n(),e},t(r)}else t(null)}),c)}))},count:function(t){var n=t.query,o=t.trans,i=n.index,a=n.range;return new Promise((function(t,n){var u=o.objectStore(e),c=i.isPrimaryKey?u:u.index(i.name),s=r(a),l=s?c.count(s):c.count();l.onsuccess=$t((function(e){return t(e.target.result)})),l.onerror=cn(n)}))}}}(t)})),s={};return c.forEach((function(t){return s[t.name]=t})),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(t){if(!s[t])throw new Error("Table '"+t+"' not found");return s[t]},MIN_KEY:-1/0,MAX_KEY:bn(e),schema:i}}function jn(t,e,n,o){var i=n.IDBKeyRange;n.indexedDB;var a=function(t,e){return e.reduce((function(t,e){var n=e.create;return r(r({},t),n(t))}),t)}(On(e,i,o),t.dbcore);return{dbcore:a}}function _n(t,e){var n=t._novip,r=e.db,o=jn(n._middlewares,r,n._deps,e);n.core=o.dbcore,n.tables.forEach((function(t){var e=t.name;n.core.schema.tables.some((function(t){return t.name===e}))&&(t.core=n.core.table(e),n[e]instanceof n.Table&&(n[e].core=t.core))}))}function kn(t,e,n,r){var o=t._novip;n.forEach((function(t){var n=r[t];e.forEach((function(e){var r=b(e,t);(!r||"value"in r&&void 0===r.value)&&(e===o.Transaction.prototype||e instanceof o.Transaction?p(e,t,{get:function(){return this.table(t)},set:function(e){d(this,t,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):e[t]=new o.Table(t,n))}))}))}function En(t,e){var n=t._novip;e.forEach((function(t){for(var e in t)t[e]instanceof n.Table&&delete t[e]}))}function Sn(t,e){return t._cfg.version-e._cfg.version}function Ln(t,e,n,r){var o=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,o);i.create(n),i._completion.catch(r);var u=i._reject.bind(i),c=Dt.transless||Dt;ie((function(){Dt.trans=i,Dt.transless=c,0===e?(a(o).forEach((function(t){Pn(n,t,o[t].primKey,o[t].indexes)})),_n(t,n),Ut.follow((function(){return t.on.populate.fire(i)})).catch(u)):function(t,e,n,r){var o=t._novip,i=[],u=o._versions,c=o._dbSchema=Cn(o,o.idbdb,r),s=!1,l=u.filter((function(t){return t._cfg.version>=e}));function f(){return i.length?Ut.resolve(i.shift()(n.idbtrans)).then(f):Ut.resolve()}return l.forEach((function(t){i.push((function(){var i=c,u=t._cfg.dbschema;Dn(o,i,r),Dn(o,u,r),c=o._dbSchema=u;var l=Tn(i,u);l.add.forEach((function(t){Pn(r,t[0],t[1].primKey,t[1].indexes)})),l.change.forEach((function(t){if(t.recreate)throw new nt.Upgrade("Not yet support for changing primary key");var e=r.objectStore(t.name);t.add.forEach((function(t){return In(e,t)})),t.change.forEach((function(t){e.deleteIndex(t.name),In(e,t)})),t.del.forEach((function(t){return e.deleteIndex(t)}))}));var f=t._cfg.contentUpgrade;if(f&&t._cfg.version>e){_n(o,r),n._memoizedTables={},s=!0;var h=E(u);l.del.forEach((function(t){h[t]=i[t]})),En(o,[o.Transaction.prototype]),kn(o,[o.Transaction.prototype],a(h),h),n.schema=h;var d,p=K(f);p&&ae();var v=Ut.follow((function(){if((d=f(n))&&p){var t=ue.bind(null,null);d.then(t,t)}}));return d&&"function"===typeof d.then?Ut.resolve(d):v.then((function(){return d}))}})),i.push((function(e){s&&Le||function(t,e){[].slice.call(e.db.objectStoreNames).forEach((function(n){return null==t[n]&&e.db.deleteObjectStore(n)}))}(t._cfg.dbschema,e);En(o,[o.Transaction.prototype]),kn(o,[o.Transaction.prototype],o._storeNames,o._dbSchema),n.schema=o._dbSchema}))})),f().then((function(){var t,e;e=r,a(t=c).forEach((function(n){e.db.objectStoreNames.contains(n)||Pn(e,n,t[n].primKey,t[n].indexes)}))}))}(t,e,i,n).catch(u)}))}function Tn(t,e){var n,r={del:[],add:[],change:[]};for(n in t)e[n]||r.del.push(n);for(n in e){var o=t[n],i=e[n];if(o){var a={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(o.primKey.keyPath||"")!==""+(i.primKey.keyPath||"")||o.primKey.auto!==i.primKey.auto&&!Se)a.recreate=!0,r.change.push(a);else{var u=o.idxByName,c=i.idxByName,s=void 0;for(s in u)c[s]||a.del.push(s);for(s in c){var l=u[s],f=c[s];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(a.del.length>0||a.add.length>0||a.change.length>0)&&r.change.push(a)}}else r.add.push([n,i])}return r}function Pn(t,e,n,r){var o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((function(t){return In(o,t)})),o}function In(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Cn(t,e,n){var r={};return g(e.objectStoreNames,0).forEach((function(t){for(var e=n.objectStore(t),o=e.keyPath,i=pn(vn(o),o||"",!1,!1,!!e.autoIncrement,o&&"string"!==typeof o,!0),a=[],u=0;u<e.indexNames.length;++u){var c=e.index(e.indexNames[u]);o=c.keyPath;var s=pn(c.name,o,!!c.unique,!!c.multiEntry,!1,o&&"string"!==typeof o,!1);a.push(s)}r[t]=yn(t,i,a)})),r}function Dn(t,e,n){for(var r=t._novip,o=n.db.objectStoreNames,a=0;a<o.length;++a){var u=o[a],c=n.objectStore(u);r._hasGetAll="getAll"in c;for(var s=0;s<c.indexNames.length;++s){var l=c.indexNames[s],f=c.index(l).keyPath,h="string"===typeof f?f:"["+g(f).join("+")+"]";if(e[u]){var d=e[u].idxByName[h];d&&(d.name=l,delete e[u].idxByName[h],e[u].idxByName[l]=d)}}}"undefined"!==typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}var An=function(){function t(){}return t.prototype._parseStoresSpec=function(t,e){a(t).forEach((function(n){if(null!==t[n]){var r=t[n].split(",").map((function(t,e){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return pn(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),u(r),0===e)})),o=r.shift();if(o.multi)throw new nt.Schema("Primary key cannot be multi-valued");r.forEach((function(t){if(t.auto)throw new nt.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new nt.Schema("Index must have a name and cannot be an empty string")})),e[n]=yn(n,o,r)}}))},t.prototype.stores=function(t){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,t):t;var n=e._versions,r={},o={};return n.forEach((function(t){c(r,t._cfg.storesSource),o=t._cfg.dbschema={},t._parseStoresSpec(r,o)})),e._dbSchema=o,En(e,[e._allTables,e,e.Transaction.prototype]),kn(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],a(o),o),e._storeNames=a(o),this},t.prototype.upgrade=function(t){return this._cfg.contentUpgrade=dt(this._cfg.contentUpgrade||it,t),this},t}();function Nn(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new ir(Ie,{addons:[],indexedDB:t,IDBKeyRange:e})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function Mn(t){return t&&"function"===typeof t.databases}function Un(t){return ie((function(){return Dt.letThrough=!0,t()}))}function Fn(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()})).finally((function(){return clearInterval(t)})):Promise.resolve()}function Bn(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then((function(){return e.dbOpenError?ge(e.dbOpenError):t}));W&&(e.openCanceller._stackHolder=q()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function o(){if(e.openCanceller!==r)throw new nt.DatabaseClosed("db.open() was cancelled")}var i=e.dbReadyResolve,u=null,c=!1;return Ut.race([r,("undefined"===typeof navigator?Ut.resolve():Fn()).then((function(){return new Ut((function(r,i){if(o(),!n)throw new nt.MissingAPI;var s=t.name,l=e.autoSchema?n.open(s):n.open(s,Math.round(10*t.verno));if(!l)throw new nt.MissingAPI;l.onerror=cn(i),l.onblocked=$t(t._fireOnBlocked),l.onupgradeneeded=$t((function(r){if(u=l.transaction,e.autoSchema&&!t._options.allowEmptyDB){l.onerror=sn,u.abort(),l.result.close();var o=n.deleteDatabase(s);o.onsuccess=o.onerror=$t((function(){i(new nt.NoSuchDatabase("Database "+s+" doesnt exist"))}))}else{u.onerror=cn(i);var a=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;c=a<1,t._novip.idbdb=l.result,Ln(t,a/10,u,i)}}),i),l.onsuccess=$t((function(){u=null;var n,o=t._novip.idbdb=l.result,i=g(o.objectStoreNames);if(i.length>0)try{var f=o.transaction(1===(n=i).length?n[0]:n,"readonly");e.autoSchema?function(t,e,n){var r=t._novip;r.verno=e.version/10;var o=r._dbSchema=Cn(0,e,n);r._storeNames=g(e.objectStoreNames,0),kn(r,[r._allTables],a(o),o)}(t,o,f):(Dn(t,t._dbSchema,f),function(t,e){var n=Tn(Cn(0,t.idbdb,e),t._dbSchema);return!(n.add.length||n.change.some((function(t){return t.add.length||t.change.length})))}(t,f)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),_n(t,f)}catch(h){}Ee.push(t),o.onversionchange=$t((function(n){e.vcFired=!0,t.on("versionchange").fire(n)})),o.onclose=$t((function(e){t.on("close").fire(e)})),c&&function(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!Mn(n)&&e!==Ie&&Nn(n,r).put({name:e}).catch(it)}(t._deps,s),r()}),i)}))}))]).then((function(){return o(),e.onReadyBeingFired=[],Ut.resolve(Un((function(){return t.on.ready.fire(t.vip)}))).then((function n(){if(e.onReadyBeingFired.length>0){var r=e.onReadyBeingFired.reduce(dt,it);return e.onReadyBeingFired=[],Ut.resolve(Un((function(){return r(t.vip)}))).then(n)}}))})).finally((function(){e.onReadyBeingFired=null,e.isBeingOpened=!1})).then((function(){return t})).catch((function(n){e.dbOpenError=n;try{u&&u.abort()}catch(Vn){}return r===e.openCanceller&&t._close(),ge(n)})).finally((function(){e.openComplete=!0,i()}))}function Kn(t){var e=function(e){return t.next(e)},n=o(e),r=o((function(e){return t.throw(e)}));function o(t){return function(e){var o=t(e),i=o.value;return o.done?i:i&&"function"===typeof i.then?i.then(n,r):u(i)?Promise.all(i).then(n,r):n(i)}}return o(e)()}function Wn(t,e,n){var r=arguments.length;if(r<2)throw new nt.InvalidArgument("Too few arguments");for(var o=new Array(r-1);--r;)o[r-1]=arguments[r];return n=o.pop(),[t,L(o),n]}function Rn(t,e,n,r,o){return Ut.resolve().then((function(){var i=Dt.transless||Dt,a=t._createTransaction(e,n,t._dbSchema,r),u={trans:a,transless:i};if(r)a.idbtrans=r.idbtrans;else try{a.create(),t._state.PR1398_maxLoop=3}catch(f){return f.name===tt.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then((function(){return Rn(t,e,n,null,o)}))):ge(f)}var c,s=K(o);s&&ae();var l=Ut.follow((function(){if(c=o.call(a,a))if(s){var t=ue.bind(null,null);c.then(t,t)}else"function"===typeof c.next&&"function"===typeof c.throw&&(c=Kn(c))}),u);return(c&&"function"===typeof c.then?Ut.resolve(c).then((function(t){return a.active?t:ge(new nt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))})):l.then((function(){return c}))).then((function(t){return r&&a._resolve(),a._completion.then((function(){return t}))})).catch((function(t){return a._reject(t),ge(t)}))}))}function Gn(t,e,n){for(var r=u(t)?t.slice():[t],o=0;o<n;++o)r.push(e);return r}var Yn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return r(r({},t),{table:function(e){var n=t.table(e),o=n.schema,i={},a=[];function u(t,e,n){var o=xn(t),c=i[o]=i[o]||[],s=null==t?0:"string"===typeof t?1:t.length,l=e>0,f=r(r({},n),{isVirtual:l,keyTail:e,keyLength:s,extractKey:mn(t),unique:!l&&n.unique});(c.push(f),f.isPrimaryKey||a.push(f),s>1)&&u(2===s?t[0]:t.slice(0,s-1),e+1,n);return c.sort((function(t,e){return t.keyTail-e.keyTail})),f}var c=u(o.primaryKey.keyPath,0,o.primaryKey);i[":id"]=[c];for(var s=0,l=o.indexes;s<l.length;s++){var f=l[s];u(f.keyPath,0,f)}function h(e){var n,o,i=e.query.index;return i.isVirtual?r(r({},e),{query:{index:i,range:(n=e.query.range,o=i.keyTail,{type:1===n.type?2:n.type,lower:Gn(n.lower,n.lowerOpen?t.MAX_KEY:t.MIN_KEY,o),lowerOpen:!0,upper:Gn(n.upper,n.upperOpen?t.MIN_KEY:t.MAX_KEY,o),upperOpen:!0})}}):e}var d=r(r({},n),{schema:r(r({},o),{primaryKey:c,indexes:a,getIndexByKeyPath:function(t){var e=i[xn(t)];return e&&e[0]}}),count:function(t){return n.count(h(t))},query:function(t){return n.query(h(t))},openCursor:function(e){var r=e.query.index,o=r.keyTail,i=r.isVirtual,a=r.keyLength;if(!i)return n.openCursor(e);return n.openCursor(h(e)).then((function(n){return n&&function(n){var r=Object.create(n,{continue:{value:function(r){null!=r?n.continue(Gn(r,e.reverse?t.MAX_KEY:t.MIN_KEY,o)):e.unique?n.continue(n.key.slice(0,a).concat(e.reverse?t.MIN_KEY:t.MAX_KEY,o)):n.continue()}},continuePrimaryKey:{value:function(e,r){n.continuePrimaryKey(Gn(e,t.MAX_KEY,o),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var t=n.key;return 1===a?t[0]:t.slice(0,a)}},value:{get:function(){return n.value}}});return r}(n)}))}});return d}})}};function qn(t,e,n,r){return n=n||{},r=r||"",a(t).forEach((function(o){if(f(e,o)){var i=t[o],a=e[o];if("object"===typeof i&&"object"===typeof a&&i&&a){var u=N(i);u!==N(a)?n[r+o]=e[o]:"Object"===u?qn(i,a,n,r+o+"."):i!==a&&(n[r+o]=e[o])}else i!==a&&(n[r+o]=e[o])}else n[r+o]=void 0})),a(e).forEach((function(o){f(t,o)||(n[r+o]=e[o])})),n}var zn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return r(r({},t),{table:function(e){var n=t.table(e),i=n.schema.primaryKey,a=r(r({},n),{mutate:function(t){var a=Dt.trans,u=a.table(e).hook,c=u.deleting,s=u.creating,l=u.updating;switch(t.type){case"add":if(s.fire===it)break;return a._promise("readwrite",(function(){return h(t)}),!0);case"put":if(s.fire===it&&l.fire===it)break;return a._promise("readwrite",(function(){return h(t)}),!0);case"delete":if(c.fire===it)break;return a._promise("readwrite",(function(){return h(t)}),!0);case"deleteRange":if(c.fire===it)break;return a._promise("readwrite",(function(){return function(t){return d(t.trans,t.range,1e4)}(t)}),!0)}return n.mutate(t);function h(t){var e=Dt.trans,a=t.keys||function(t,e){return"delete"===e.type?e.keys:e.keys||e.values.map(t.extractKey)}(i,t);if(!a)throw new Error("Keys missing");return"delete"!==(t="add"===t.type||"put"===t.type?r(r({},t),{keys:a}):r({},t)).type&&(t.values=o([],t.values,!0)),t.keys&&(t.keys=o([],t.keys,!0)),function(t,e,n){return"add"===e.type?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}(n,t,a).then((function(r){var o=a.map((function(n,o){var a=r[o],u={onerror:null,onsuccess:null};if("delete"===t.type)c.fire.call(u,n,a,e);else if("add"===t.type||void 0===a){var h=s.fire.call(u,n,t.values[o],e);null==n&&null!=h&&(n=h,t.keys[o]=n,i.outbound||k(t.values[o],i.keyPath,n))}else{var d=qn(a,t.values[o]),p=l.fire.call(u,d,n,a,e);if(p){var v=t.values[o];Object.keys(p).forEach((function(t){f(v,t)?v[t]=p[t]:k(v,t,p[t])}))}}return u}));return n.mutate(t).then((function(e){for(var n=e.failures,i=e.results,u=e.numFailures,c=e.lastResult,s=0;s<a.length;++s){var l=i?i[s]:a[s],f=o[s];null==l?f.onerror&&f.onerror(n[s]):f.onsuccess&&f.onsuccess("put"===t.type&&r[s]?t.values[s]:l)}return{failures:n,results:i,numFailures:u,lastResult:c}})).catch((function(t){return o.forEach((function(e){return e.onerror&&e.onerror(t)})),Promise.reject(t)}))}))}function d(t,e,o){return n.query({trans:t,values:!1,query:{index:i,range:e},limit:o}).then((function(n){var i=n.result;return h({type:"delete",keys:i,trans:t}).then((function(n){return n.numFailures>0?Promise.reject(n.failures[0]):i.length<o?{failures:[],numFailures:0,lastResult:void 0}:d(t,r(r({},e),{lower:i[i.length-1],lowerOpen:!0}),o)}))}))}}});return a}})}};function Hn(t,e,n){try{if(!e)return null;if(e.keys.length<t.length)return null;for(var r=[],o=0,i=0;o<e.keys.length&&i<t.length;++o)0===He(e.keys[o],t[i])&&(r.push(n?C(e.values[o]):e.values[o]),++i);return r.length===t.length?r:null}catch(Vn){return null}}var Vn,Qn={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return r(r({},n),{getMany:function(t){if(!t.cache)return n.getMany(t);var e=Hn(t.keys,t.trans._cache,"clone"===t.cache);return e?Ut.resolve(e):n.getMany(t).then((function(e){return t.trans._cache={keys:t.keys,values:"clone"===t.cache?C(e):e},e}))},mutate:function(t){return"add"!==t.type&&(t.trans._cache=null),n.mutate(t)}})}}}};function Xn(t){return!("from"in t)}var Jn=function t(e,n){if(!this){var r=new t;return e&&"d"in e&&c(r,e),r}c(this,arguments.length?{d:1,from:e,to:arguments.length>1?n:e}:{d:0})};function $n(t,e,n){var r=He(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(Xn(t))return c(t,{from:e,to:n,d:1});var o=t.l,i=t.r;if(He(n,t.from)<0)return o?$n(o,e,n):t.l={from:e,to:n,d:1,l:null,r:null},er(t);if(He(e,t.to)>0)return i?$n(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},er(t);He(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),He(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var a=!t.r;o&&!t.l&&Zn(t,o),i&&a&&Zn(t,i)}}function Zn(t,e){Xn(e)||function t(e,n){var r=n.from,o=n.to,i=n.l,a=n.r;$n(e,r,o),i&&t(e,i),a&&t(e,a)}(t,e)}function tr(t){var e=Xn(t)?null:{s:0,n:t};return{next:function(t){for(var n=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,n)for(;e.n.l&&He(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!n||He(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function er(t){var e,n,o=((null===(e=t.r)||void 0===e?void 0:e.d)||0)-((null===(n=t.l)||void 0===n?void 0:n.d)||0),i=o>1?"r":o<-1?"l":"";if(i){var a="r"===i?"l":"r",u=r({},t),c=t[i];t.from=c.from,t.to=c.to,t[i]=c[i],u[i]=c[a],t[a]=u,u.d=nr(u)}t.d=nr(t)}function nr(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}h(Jn.prototype,(Vn={add:function(t){return Zn(this,t),this},addKey:function(t){return $n(this,t,t),this},addKeys:function(t){var e=this;return t.forEach((function(t){return $n(e,t,t)})),this}},Vn[M]=function(){return tr(this)},Vn));var rr={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new Jn(t.MIN_KEY,t.MAX_KEY);return r(r({},t),{table:function(o){var i=t.table(o),c=i.schema,s=c.primaryKey,l=s.extractKey,f=s.outbound,h=r(r({},i),{mutate:function(t){var r=t.trans,a=r.mutatedParts||(r.mutatedParts={}),s=function(t){var n="idb://"+e+"/"+o+"/"+t;return a[n]||(a[n]=new Jn)},l=s(""),f=s(":dels"),h=t.type,d="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[[],t.values]:[],p=d[0],v=d[1],y=t.trans._cache;return i.mutate(t).then((function(t){if(u(p)){"delete"!==h&&(p=t.results),l.addKeys(p);var e=Hn(p,y);e||"add"===h||f.addKeys(p),(e||v)&&function(t,e,n,r){function o(e){var o=t(e.name||"");function i(t){return null!=t?e.extractKey(t):null}var a=function(t){return e.multiEntry&&u(t)?t.forEach((function(t){return o.addKey(t)})):o.addKey(t)};(n||r).forEach((function(t,e){var o=n&&i(n[e]),u=r&&i(r[e]);0!==He(o,u)&&(null!=o&&a(o),null!=u&&a(u))}))}e.indexes.forEach(o)}(s,c,e,v)}else if(p){var r={from:p.lower,to:p.upper};f.add(r),l.add(r)}else l.add(n),f.add(n),c.indexes.forEach((function(t){return s(t.name).add(n)}));return t}))}}),d=function(e){var n,r,o=e.query,i=o.index,a=o.range;return[i,new Jn(null!==(n=a.lower)&&void 0!==n?n:t.MIN_KEY,null!==(r=a.upper)&&void 0!==r?r:t.MAX_KEY)]},p={get:function(t){return[s,new Jn(t.key)]},getMany:function(t){return[s,(new Jn).addKeys(t.keys)]},count:d,query:d,openCursor:d};return a(p).forEach((function(t){h[t]=function(a){var u=Dt.subscr;if(u){var c=function(t){var n="idb://"+e+"/"+o+"/"+t;return u[n]||(u[n]=new Jn)},s=c(""),h=c(":dels"),d=p[t](a),v=d[0],y=d[1];if(c(v.name||"").add(y),!v.isPrimaryKey){if("count"!==t){var b="query"===t&&f&&a.values&&i.query(r(r({},a),{values:!1}));return i[t].apply(this,arguments).then((function(e){if("query"===t){if(f&&a.values)return b.then((function(t){var n=t.result;return s.addKeys(n),e}));var n=a.values?e.result.map(l):e.result;a.values?s.addKeys(n):h.addKeys(n)}else if("openCursor"===t){var r=e,o=a.values;return r&&Object.create(r,{key:{get:function(){return h.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var t=r.primaryKey;return h.addKey(t),t}},value:{get:function(){return o&&s.addKey(r.primaryKey),r.value}}})}return e}))}h.add(n)}}return i[t].apply(this,arguments)}})),h}})}};var or,ir=function(){function t(e,n){var o=this;this._middlewares={},this.verno=0;var i=t.dependencies;this._options=n=r({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var a=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var u,c={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:it,dbReadyPromise:null,cancelOpen:it,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};c.dbReadyPromise=new Ut((function(t){c.dbReadyResolve=t})),c.openCanceller=new Ut((function(t,e){c.cancelOpen=e})),this._state=c,this.name=e,this.on=Fe(this,"populate","blocked","versionchange","close",{ready:[dt,it]}),this.on.ready.subscribe=w(this.on.ready.subscribe,(function(e){return function(n,r){t.vip((function(){var t=o._state;if(t.openComplete)t.dbOpenError||Ut.resolve().then(n),r&&e(n);else if(t.onReadyBeingFired)t.onReadyBeingFired.push(n),r&&e(n);else{e(n);var i=o;r||e((function t(){i.on.ready.unsubscribe(n),i.on.ready.unsubscribe(t)}))}}))}})),this.Collection=(u=this,Be(Xe.prototype,(function(t,e){this.db=u;var n=Ne,r=null;if(e)try{n=e()}catch(c){r=c}var o=t._ctx,i=o.table,a=i.hook.reading.fire;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:a!==at?a:null}}))),this.Table=function(t){return Be(Ue.prototype,(function(e,n,r){this.db=t,this._tx=r,this.name=e,this.schema=n,this.hook=t._allTables[e]?t._allTables[e].hook:Fe(null,{creating:[st,it],reading:[ut,at],updating:[ft,it],deleting:[lt,it]})}))}(this),this.Transaction=function(t){return Be(dn.prototype,(function(e,n,r,o,i){var a=this;this.db=t,this.mode=e,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Fe(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ut((function(t,e){a._resolve=t,a._reject=e})),this._completion.then((function(){a.active=!1,a.on.complete.fire()}),(function(t){var e=a.active;return a.active=!1,a.on.error.fire(t),a.parent?a.parent._reject(t):e&&a.idbtrans&&a.idbtrans.abort(),ge(t)}))}))}(this),this.Version=function(t){return Be(An.prototype,(function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(t){return Be(un.prototype,(function(e,n,r){this.db=t,this._ctx={table:e,index:":id"===n?null:n,or:r};var o=t._deps.indexedDB;if(!o)throw new nt.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(t,e){return o.cmp(e,t)},this._max=function(t,e){return o.cmp(t,e)>0?t:e},this._min=function(t,e){return o.cmp(t,e)<0?t:e},this._IDBKeyRange=t._deps.IDBKeyRange}))}(this),this.on("versionchange",(function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '"+o.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+o.name+"'. Closing db now to resume the delete request."),o.close()})),this.on("blocked",(function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+o.name+"') was blocked"):console.warn("Upgrade '"+o.name+"' blocked by other connection holding version "+t.oldVersion/10)})),this._maxKey=bn(n.IDBKeyRange),this._createTransaction=function(t,e,n,r){return new o.Transaction(t,e,n,o._options.chromeTransactionDurability,r)},this._fireOnBlocked=function(t){o.on("blocked").fire(t),Ee.filter((function(t){return t.name===o.name&&t!==o&&!t._state.vcFired})).map((function(e){return e.on("versionchange").fire(t)}))},this.use(Yn),this.use(zn),this.use(rr),this.use(Qn),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach((function(t){return t(o)}))}return t.prototype.version=function(t){if(isNaN(t)||t<.1)throw new nt.Type("Given version is not a positive number");if(t=Math.round(10*t)/10,this.idbdb||this._state.isBeingOpened)throw new nt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions,n=e.filter((function(e){return e._cfg.version===t}))[0];return n||(n=new this.Version(t),e.push(n),e.sort(Sn),n.stores({}),this._state.autoSchema=!1,n)},t.prototype._whenReady=function(t){var e=this;return this.idbdb&&(this._state.openComplete||Dt.letThrough||this._vip)?t():new Ut((function(t,n){if(e._state.openComplete)return n(new nt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return void n(new nt.DatabaseClosed);e.open().catch(it)}e._state.dbReadyPromise.then(t,n)})).then(t)},t.prototype.use=function(t){var e=t.stack,n=t.create,r=t.level,o=t.name;o&&this.unuse({stack:e,name:o});var i=this._middlewares[e]||(this._middlewares[e]=[]);return i.push({stack:e,create:n,level:null==r?10:r,name:o}),i.sort((function(t,e){return t.level-e.level})),this},t.prototype.unuse=function(t){var e=t.stack,n=t.name,r=t.create;return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((function(t){return r?t.create!==r:!!n&&t.name!==n}))),this},t.prototype.open=function(){return Bn(this)},t.prototype._close=function(){var t=this._state,e=Ee.indexOf(this);if(e>=0&&Ee.splice(e,1),this.idbdb){try{this.idbdb.close()}catch(n){}this._novip.idbdb=null}t.dbReadyPromise=new Ut((function(e){t.dbReadyResolve=e})),t.openCanceller=new Ut((function(e,n){t.cancelOpen=n}))},t.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new nt.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},t.prototype.delete=function(){var t=this,e=arguments.length>0,n=this._state;return new Ut((function(r,o){var i=function(){t.close();var e=t._deps.indexedDB.deleteDatabase(t.name);e.onsuccess=$t((function(){!function(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!Mn(n)&&e!==Ie&&Nn(n,r).delete(e).catch(it)}(t._deps,t.name),r()})),e.onerror=cn(o),e.onblocked=t._fireOnBlocked};if(e)throw new nt.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(i):i()}))},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return null!==this.idbdb},t.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&"DatabaseClosed"===t.name},t.prototype.hasFailed=function(){return null!==this._state.dbOpenError},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var t=this;return a(this._allTables).map((function(e){return t._allTables[e]}))},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var t=Wn.apply(this,arguments);return this._transaction.apply(this,t)},t.prototype._transaction=function(t,e,n){var r=this,o=Dt.trans;o&&o.db===this&&-1===t.indexOf("!")||(o=null);var i,a,u=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{if(a=e.map((function(t){var e=t instanceof r.Table?t.name:t;if("string"!==typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e})),"r"==t||t===Ce)i=Ce;else{if("rw"!=t&&t!=De)throw new nt.InvalidArgument("Invalid transaction mode: "+t);i=De}if(o){if(o.mode===Ce&&i===De){if(!u)throw new nt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o=null}o&&a.forEach((function(t){if(o&&-1===o.storeNames.indexOf(t)){if(!u)throw new nt.SubTransaction("Table "+t+" not included in parent transaction.");o=null}})),u&&o&&!o.active&&(o=null)}}catch(s){return o?o._promise(null,(function(t,e){e(s)})):ge(s)}var c=Rn.bind(null,this,i,a,o,n);return o?o._promise(i,c,"lock"):Dt.trans?de(Dt.transless,(function(){return r._whenReady(c)})):this._whenReady(c)},t.prototype.table=function(t){if(!f(this._allTables,t))throw new nt.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},t}(),ar="undefined"!==typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable",ur=function(){function t(t){this._subscribe=t}return t.prototype.subscribe=function(t,e,n){return this._subscribe(t&&"function"!==typeof t?t:{next:t,error:e,complete:n})},t.prototype[ar]=function(){return this},t}();function cr(t,e){return a(e).forEach((function(n){Zn(t[n]||(t[n]=new Jn),e[n])})),t}try{or={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch(pr){or={indexedDB:null,IDBKeyRange:null}}var sr=ir;function lr(t){var e=fr;try{fr=!0,hn.storagemutated.fire(t)}finally{fr=e}}h(sr,r(r({},ot),{delete:function(t){return new sr(t,{addons:[]}).delete()},exists:function(t){return new sr(t,{addons:[]}).open().then((function(t){return t.close(),!0})).catch("NoSuchDatabaseError",(function(){return!1}))},getDatabaseNames:function(t){try{return function(t){var e=t.indexedDB,n=t.IDBKeyRange;return Mn(e)?Promise.resolve(e.databases()).then((function(t){return t.map((function(t){return t.name})).filter((function(t){return t!==Ie}))})):Nn(e,n).toCollection().primaryKeys()}(sr.dependencies).then(t)}catch(Vn){return ge(new nt.MissingAPI)}},defineClass:function(){return function(t){c(this,t)}},ignoreTransaction:function(t){return Dt.trans?de(Dt.transless,t):t()},vip:Un,async:function(t){return function(){try{var e=Kn(t.apply(this,arguments));return e&&"function"===typeof e.then?e:Ut.resolve(e)}catch(pr){return ge(pr)}}},spawn:function(t,e,n){try{var r=Kn(t.apply(n,e||[]));return r&&"function"===typeof r.then?r:Ut.resolve(r)}catch(pr){return ge(pr)}},currentTransaction:{get:function(){return Dt.trans||null}},waitFor:function(t,e){var n=Ut.resolve("function"===typeof t?sr.ignoreTransaction(t):t).timeout(e||6e4);return Dt.trans?Dt.trans.waitFor(n):n},Promise:Ut,debug:{get:function(){return W},set:function(t){R(t,"dexie"===t?function(){return!0}:Pe)}},derive:v,extend:c,props:h,override:w,Events:Fe,on:hn,liveQuery:function(t){var e=!1,n=void 0,r=new ur((function(r){var o=K(t);var i=!1,u={},c={},s={get closed(){return i},unsubscribe:function(){i=!0,hn.storagemutated.unsubscribe(d)}};r.start&&r.start(s);var l=!1,f=!1;function h(){return a(c).some((function(t){return u[t]&&function(t,e){var n=tr(e),r=n.next();if(r.done)return!1;for(var o=r.value,i=tr(t),a=i.next(o.from),u=a.value;!r.done&&!a.done;){if(He(u.from,o.to)<=0&&He(u.to,o.from)>=0)return!0;He(o.from,u.from)<0?o=(r=n.next(u.from)).value:u=(a=i.next(o.from)).value}return!1}(u[t],c[t])}))}var d=function(t){cr(u,t),h()&&p()},p=function a(){if(!l&&!i){u={};var p={},v=function(e){o&&ae();var n=function(){return ie(t,{subscr:e,trans:null})},r=Dt.trans?de(Dt.transless,n):n();return o&&r.then(ue,ue),r}(p);f||(hn(ln,d),f=!0),l=!0,Promise.resolve(v).then((function(t){e=!0,n=t,l=!1,i||(h()?a():(u={},c=p,r.next&&r.next(t)))}),(function(t){l=!1,e=!1,r.error&&r.error(t),s.unsubscribe()}))}};return p(),s}));return r.hasValue=function(){return e},r.getValue=function(){return n},r},extendObservabilitySet:cr,getByKeyPath:_,setByKeyPath:k,delByKeyPath:function(t,e){"string"===typeof e?k(t,e,void 0):"length"in e&&[].map.call(e,(function(e){k(t,e,void 0)}))},shallowClone:E,deepClone:C,getObjectDiff:qn,cmp:He,asap:O,minKey:je,addons:[],connections:Ee,errnames:tt,dependencies:or,semVer:xe,version:xe.split(".").map((function(t){return parseInt(t)})).reduce((function(t,e,n){return t+e/Math.pow(10,2*n)}))})),sr.maxKey=bn(sr.dependencies.IDBKeyRange),"undefined"!==typeof dispatchEvent&&"undefined"!==typeof addEventListener&&(hn(ln,(function(t){var e;fr||(Se?(e=document.createEvent("CustomEvent")).initCustomEvent(fn,!0,!0,t):e=new CustomEvent(fn,{detail:t}),fr=!0,dispatchEvent(e),fr=!1)})),addEventListener(fn,(function(t){var e=t.detail;fr||lr(e)})));var fr=!1;if("undefined"!==typeof BroadcastChannel){var hr=new BroadcastChannel(fn);"function"===typeof hr.unref&&hr.unref(),hn(ln,(function(t){fr||hr.postMessage(t)})),hr.onmessage=function(t){t.data&&lr(t.data)}}else if("undefined"!==typeof self&&"undefined"!==typeof navigator){hn(ln,(function(t){try{fr||("undefined"!==typeof localStorage&&localStorage.setItem(fn,JSON.stringify({trig:Math.random(),changedParts:t})),"object"===typeof self.clients&&o([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach((function(e){return e.postMessage({type:fn,changedParts:t})})))}catch(Vn){}})),"undefined"!==typeof addEventListener&&addEventListener("storage",(function(t){if(t.key===fn){var e=JSON.parse(t.newValue);e&&lr(e.changedParts)}}));var dr=self.document&&navigator.serviceWorker;dr&&dr.addEventListener("message",(function(t){var e=t.data;e&&e.type===fn&&lr(e.changedParts)}))}Ut.rejectionMapper=function(t,e){if(!t||t instanceof X||t instanceof TypeError||t instanceof SyntaxError||!t.name||!rt[t.name])return t;var n=new rt[t.name](e||t.message,t);return"stack"in t&&p(n,"stack",{get:function(){return this.inner.stack}}),n},R(W,Pe)},function(t,e,n){"use strict";function r(){var t,e=0;return function(n){return e||(t=Promise.resolve()),e++,t=t.then(n).finally((function(){e--}))}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o=function(t,e,n){var o,i=r[t];return o="string"===typeof i?i:1===e?i.one:i.other.replace("{{count}}",e.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function i(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var a={date:i({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:i({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:i({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},u={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},c=function(t,e,n,r){return u[t]};function s(t){return function(e,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):o;r=t.formattingValues[i]||t.formattingValues[o]}else{var a=t.defaultWidth,u=null!==n&&void 0!==n&&n.width?String(n.width):t.defaultWidth;r=t.values[u]||t.values[a]}return r[t.argumentCallback?t.argumentCallback(e):e]}}var l={ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:s({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:s({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:s({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:s({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:s({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function f(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;var a,u=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],s=Array.isArray(c)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return}(c,(function(t){return t.test(u)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n;return}(c,(function(t){return t.test(u)}));return a=t.valueCallback?t.valueCallback(s):s,{value:a=n.valueCallback?n.valueCallback(a):a,rest:e.slice(u.length)}}}var h,d={ordinalNumber:(h={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(h.matchPattern);if(!n)return null;var r=n[0],o=t.match(h.parsePattern);if(!o)return null;var i=h.valueCallback?h.valueCallback(o[0]):o[0];return{value:i=e.valueCallback?e.valueCallback(i):i,rest:t.slice(r.length)}}),era:f({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:f({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:f({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:f({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:f({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},p={code:"en-US",formatDistance:o,formatLong:a,formatRelative:c,localize:l,match:d,options:{weekStartsOn:0,firstWeekContainsDate:1}};e.a=p},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(11),o=n(8);function i(t,e){Object(o.a)(2,arguments);var n=Object(r.a)(t),i=Object(r.a)(e),a=n.getTime()-i.getTime();return a<0?-1:a>0?1:a}},function(t,e,n){"use strict";function r(t){return"function"===typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(35);var o=n(46),i=n(54);var a=n(73);function u(t){return t}function c(t){return 0===t.length?u:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var s=n(32);n.d(e,"a",(function(){return l}));var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new r.a(t,e,n):new r.a(i.a)}(t,e,n);if(a?u.add(a.call(u,this.source)):u.add(this.source||s.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),s.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){s.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,o=e.destination,i=e.isStopped;if(n||i)return!1;t=o&&o instanceof r.a?o:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=f(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(n){r(n),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:c(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=f(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function f(t){if(t||(t=s.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=["Win32","Win64","Windows","WinCE"],o=["macOS","Macintosh","MacIntel","MacPPC","Mac68K"],i=["iPhone","iPad","iPod"];var a=function(){var t,e=(null===(t=globalThis.navigator.userAgentData)||void 0===t?void 0:t.platform)||globalThis.navigator.platform;return r.includes(e)?"windows":o.includes(e)?"mac":i.includes(e)?"ios":/Android/.test(globalThis.navigator.userAgent)?"android":/Linux/.test(e)?"linux":void 0}()},,,function(t,e,n){"use strict";function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},function(t,e,n){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,"a",(function(){return r}))},,function(t,e,n){"use strict";function r(t,e){var n,r;return e&&e!==t.title?{title:e,titleOriginal:null!==(n=null!==(r=t.titleOriginal)&&void 0!==r?r:t.title)&&void 0!==n?n:""}:{}}n.d(e,"a",(function(){return r}))},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(57);function o(t){return Object(r.a)({},t)}},function(t,e,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return Array.isArray||function(t){return t&&"number"===typeof t.length}}()},function(t,e,n){"use strict";function r(t){return null!==t&&"object"===typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r=n(70),o=n(69),i=n(43),a=n(71);var u=n(7),c=n(14),s=n(2),l=n(1),f=n(3),h=n(22),d=n(65),p=n(35),v=n(41),y=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),b=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return h.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(v.a),m=n(46),g=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return h.a(e,t),e}(p.a),w=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return h.a(e,t),e.prototype[m.a]=function(){return new g(this)},e.prototype.lift=function(t){var e=new x(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new y;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new y;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new y;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new y;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new y;return this.hasError?(t.error(this.thrownError),v.a.EMPTY):this.isStopped?(t.complete(),v.a.EMPTY):(this.observers.push(t),new b(this,t))},e.prototype.asObservable=function(){var t=new d.a;return t.source=this,t},e.create=function(t,e){return new x(t,e)},e}(d.a),x=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return h.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):v.a.EMPTY},e}(w);function O(){O=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(T){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(S([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return chrome.windows.get(t,{populate:!e.omitTabs})}function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return chrome.windows.getCurrent({populate:!t.omitTabs})}function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return chrome.windows.getAll({populate:!t.omitTabs,windowTypes:["normal","popup","app"]})}function E(t,e){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(O().mark((function t(e,n){var r,o,i,a;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Object(l.a)(n),o=[];case 2:if(!r.length){t.next=13;break}return i=r[0].url,t.next=6,L(Object(s.a)(Object(s.a)({},e),{},{url:i||void 0}));case 6:if(!(a=t.sent)){t.next=9;break}return t.abrupt("return",{win:a,remainingUrlInfos:r,failedUrls:o});case 9:o.push(i),r.shift(),t.next=2;break;case 13:return t.abrupt("return",{remainingUrlInfos:r,failedUrls:o});case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return T.apply(this,arguments)}function T(){return(T=Object(f.a)(O().mark((function t(e){var n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,chrome.windows.create(e);case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:if(n&&null!=n.id){t.next=11;break}return t.abrupt("return");case 11:return n.tabs||(n.tabs=[]),t.abrupt("return",n);case 13:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function P(t){return chrome.windows.update(t,{focused:!0})}function I(t){return chrome.windows.remove(t)}function C(t){return"popup"===t?t:"normal"}function D(t){return!t||"normal"===t}function A(t){var e={};return t.state&&["maximized","fullscreen"].includes(t.state)?e.state=t.state:(null!=t.top&&(e.top=t.top),null!=t.left&&(e.left=t.left),null!=t.width&&(e.width=t.width),null!=t.height&&(e.height=t.height)),e}var N=n(53),M=["url"];function U(){U=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function F(t,e){return B.apply(this,arguments)}function B(){return(B=Object(f.a)(U().mark((function t(e,n){var r;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,chrome.tabs.update(e,{url:n});case 3:return r=t.sent,t.abrupt("return",r);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function K(t){return chrome.tabs.remove(t)}function W(t){return R.apply(this,arguments)}function R(){return(R=Object(f.a)(U().mark((function t(e){var n;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!["chrome-extension:","extension:","moz-extension:"].some((function(t){var n;return null===(n=e.url)||void 0===n?void 0:n.startsWith(t)}))){t.next=7;break}return t.next=4,G(e);case 4:t.t0=t.sent,t.next=10;break;case 7:return t.next=9,chrome.tabs.create(e);case 9:t.t0=t.sent;case 10:return n=t.t0,t.abrupt("return",n);case 14:t.prev=14,t.t1=t.catch(0),console.error(t.t1);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}function G(t){return Y.apply(this,arguments)}function Y(){return(Y=Object(f.a)(U().mark((function t(e){var n,r,o;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,r=Object(N.a)(e,M),t.next=3,chrome.tabs.create(Object(s.a)({},r));case 3:return o=t.sent,t.prev=4,t.next=7,chrome.tabs.update(o.id,{url:n});case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(4),t.next=13,chrome.tabs.remove(o.id);case 13:console.error(t.t0);case 14:return t.abrupt("return",o);case 15:case"end":return t.stop()}}),t,null,[[4,9]])})))).apply(this,arguments)}var q=n(24),z=n(12),H=n(9);function V(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"===typeof t&&(e=t,t=void 0),new Promise((function(n){setTimeout((function(){var e;n(null===(e=t)||void 0===e?void 0:e())}),e)}))}var Q=n(6);function X(t){return Number.isSafeInteger(t)}var J=n(47),$=n(4),Z=n(20);function tt(){tt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}n.d(e,"b",(function(){return st})),n.d(e,"a",(function(){return lt}));var et=["id","width","height","top","left","state","type","incognito","tabs"],nt=["id","status","favIconUrl","title","url","pendingUrl","active","pinned","audible","mutedInfo","groupId"],rt=["status","favIconUrl","title","url","pinned","audible","mutedInfo","groupId"],ot=new Set,it=[],at=[],ut=new Set,ct={newtabUrl:"chrome://newtab"};function st(t){return{newtabUrl:t.browser.canonicalNewtabUrl,isFeatureUrl:t.browser.isFeatureUrl}}function lt(t){var e=Object(z.a)(ct,t),n={},h=function(){var t=new w;return chrome.windows.onCreated.addListener((function(e){var n=Object(s.a)(Object(s.a)({},e),{},{tabs:[]});t.next({type:"WIN-OPENED",win:ft(n)})})),chrome.windows.onRemoved.addListener((function(e){t.next({type:"WIN-CLOSED",winId:e})})),chrome.windows.onBoundsChanged.addListener((function(e){t.next({type:"WIN-UPDATED-BOUNDS",winId:e.id})})),chrome.tabs.onCreated.addListener((function(e){t.next({type:"TAB-OPENED",tab:ht(e)})})),chrome.tabs.onRemoved.addListener((function(e,n){var r=n.windowId,o=n.isWindowClosing;t.next({type:"TAB-CLOSED",tabId:e,winId:r,isWinClosing:o})})),chrome.tabs.onUpdated.addListener((function(e,n){"complete"===n.status?(ut.add(e),ot.has(e)&&(ot.delete(e),chrome.tabs.get(e,(function(t){t.active||null==t.id||chrome.tabs.discard(t.id)})))):"loading"===n.status&&ut.delete(e),Object.entries(n).filter((function(t){var e=Object(u.a)(t,1)[0];return rt.includes(e)})).forEach((function(n){var r=Object(u.a)(n,2),o=r[0],i=r[1];t.next({type:"TAB-UPDATED-".concat(Object(Q.h)(o)),tabId:e,value:i})}))})),chrome.tabs.onActivated.addListener((function(e){var n=e.tabId,r=e.windowId;t.next({type:"TAB-ACTIVATED",tabId:n,winId:r})})),chrome.tabs.onMoved.addListener((function(e,n){var r=n.windowId,o=n.fromIndex,i=n.toIndex;t.next({type:"TAB-MOVED",tabId:e,fromWinId:r,fromIndex:o,toWinId:r,toIndex:i})})),chrome.tabs.onDetached.addListener((function(t,e){var r=e.oldWindowId,o=e.oldPosition;n[t]={oldWindowId:r,oldPosition:o}})),chrome.tabs.onAttached.addListener((function(e,r){var o=r.newWindowId,i=r.newPosition;var a=n[e];a&&(t.next({type:"TAB-MOVED",tabId:e,fromWinId:a.oldWindowId,fromIndex:a.oldPosition,toWinId:o,toIndex:i}),delete n[e])})),chrome.tabs.onReplaced.addListener((function(e,n){t.next({type:"TAB-REPLACED",addedTabId:e,removedTabId:n})})),t}(),d={getWindows:function(t,e){return Object(f.a)(tt().mark((function n(){var r,o,i,a,u,c;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pt();case 2:return r=n.sent.map((function(t){return ft(t)})),n.next=5,chrome.tabs.getCurrent();case 5:if(n.t0=n.sent,n.t0){n.next=8;break}n.t0={};case 8:if(o=n.t0,i=o.id,null!=(a=o.windowId)){n.next=13;break}return n.abrupt("return",r);case 13:if(!(u=r.find((function(t){return t.id===a})))){n.next=20;break}if(e&&(u.current=!0),(c=null!=i&&u.tabs.find((function(t){return t.id===i})))&&e&&(c.current=!0),!t){n.next=20;break}return n.abrupt("return",Object(H.c)(r,(function(t){return t===u})));case 20:return n.abrupt("return",r);case 21:case"end":return n.stop()}}),n)})))()},isNewTabUrl:function(t){return!!t&&e.isFeatureUrl(t,"newtab")},focusWindow:function(t){return Object(f.a)(tt().mark((function e(){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t);case 2:case"end":return e.stop()}}),e)})))()},closeWindows:function(t){return Object(f.a)(tt().mark((function e(){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.filter((function(t){return!yt(t)}))).length){e.next=3;break}return e.abrupt("return");case 3:return it=[].concat(Object(l.a)(it),Object(l.a)(n)),h.next({type:"WINS-CLOSING",winIds:n}),e.next=7,Promise.allSettled(n.map((function(t){return I(t)})));case 7:it=it.filter((function(t){return!n.includes(t)}));case 8:case"end":return e.stop()}}),e)})))()},openTabs:function(t,e){return Object(f.a)(tt().mark((function n(){var r,o,i,a,u,c,l,f,h,p,v,y,b,m,g,w;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.target,i=(o=void 0===r?{singleWindow:!1}:r).singleWindow,a=o.prependToWindow,u=o.appendToWindow,c=o.afterTab,l=e.itemSelections,f=e.unfocused,h=e.optimized,p=l?Object($.y)(t,l):t,!i){n.next=6;break}return v=p.some((function(t){return t.incognito})),y=1===p.length?{top:p[0].top,left:p[0].left,width:p[0].width,height:p[0].height,state:p[0].state}:{},n.abrupt("return",d.openTabsInNewWindow(Object($.n)(p),Object(s.a)(Object(s.a)({incognito:v},y),{},{unfocused:f,optimized:h})));case 6:if(!(b=X(a))&&!X(u)){n.next=12;break}return m=b?a:u,g=b?0:void 0,w=Object($.n)(p).map((function(t){return Object(s.a)(Object(s.a)({},t),{},{active:!0})})),n.abrupt("return",d.openTabsInExistingWindow(w,{windowId:m,index:g,focused:!f,optimized:h}));case 12:if(!X(c)){n.next=14;break}return n.abrupt("return",d.openTabsAfterTab(Object($.n)(p),{tabId:c,focused:!f,optimized:h}));case 14:return n.abrupt("return",d.openWindows(p,{unfocused:f,optimized:h}));case 15:case"end":return n.stop()}}),n)})))()},openWindows:function(t){var e=arguments;return Object(f.a)(tt().mark((function n(){var r,o,i,a,u;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.length>1&&void 0!==e[1]?e[1]:{},o={wins:[],unopenableUrls:[]},i=Object(c.a)(t),n.prev=3,u=tt().mark((function t(){var e,n,i,u,c,f,h,p;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=a.value).deleted){t.next=15;break}if(!(n=Object($.s)(e).filter((function(t){return!t.deleted}))).length){t.next=15;break}if(!r.optimized||!o.wins.length){t.next=7;break}return t.next=7,V(Object(Z.a)("optimized-open-delay"));case 7:return t.next=9,d.openTabsInNewWindow(n,mt(e,r));case 9:u=t.sent,c=u.wins,f=u.unopenableUrls,h=c.map((function(t){return Object(s.a)(Object(s.a)({},t),{},{sourceId:e.id})})),(i=o.wins).push.apply(i,Object(l.a)(h)),(null===f||void 0===f?void 0:f.length)&&(p=o.unopenableUrls).push.apply(p,Object(l.a)(f));case 15:case"end":return t.stop()}}),t)})),i.s();case 6:if((a=i.n()).done){n.next=10;break}return n.delegateYield(u(),"t0",8);case 8:n.next=6;break;case 10:n.next=15;break;case 12:n.prev=12,n.t1=n.catch(3),i.e(n.t1);case 15:return n.prev=15,i.f(),n.finish(15);case 18:return n.abrupt("return",o);case 19:case"end":return n.stop()}}),n,null,[[3,12,15,18]])})))()},openTabsInExistingWindow:function(t,e){return Object(f.a)(tt().mark((function n(){var r,o,i,a,s,f,h,v,y,b,m,g,w,x,O,_;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j(e.windowId,{omitTabs:!0});case 2:return r=n.sent,n.next=5,p(t,r.incognito);case 5:if(o=n.sent,i=Object(u.a)(o,2),a=i[0],s=i[1],a.length){n.next=12;break}return console.warn("no openable URLs provided".concat(s.length?". rejected ".concat(s.length," ").concat(1===s.length?"URL":"URLs",": ").concat(s.map((function(t){return t.url})).join(",")):"")),n.abrupt("return",{tabs:[],unopenableUrls:s.map((function(t){return t.url}))});case 12:s.length&&console.warn("".concat(s.length," ").concat(1===s.length?"URL is":"URLs are"," preemptively disallowed from opening"),s.map((function(t){return t.url}))),f={windowId:e.windowId},h=a.findLast((function(t){return t.active})),v=Object(H.c)(a,(function(t){return!!t.pinned})),y=[],b=[],f.index=e.index,g=Object(c.a)(v),n.prev=20,g.s();case 22:if((w=g.n()).done){n.next=36;break}if(x=w.value,f.url=x.url||void 0,f.active=!!e.focused&&x===h,f.pinned=!!x.pinned,!e.optimized||!y.length){n.next=30;break}return n.next=30,V(Object(Z.a)("optimized-open-delay"));case 30:return n.next=32,W(f);case 32:(O=n.sent)?(x.active&&(m=f.active?void 0:O.id),y.push(O),e.optimized&&O.id&&ot.add(O.id),null!=f.index&&(f.index=Math.max(f.index,O.index)+1)):b.push(f.url||"");case 34:n.next=22;break;case 36:n.next=41;break;case 38:n.prev=38,n.t0=n.catch(20),g.e(n.t0);case 41:return n.prev=41,g.f(),n.finish(41);case 44:if(!e.focused||!y.length){n.next=54;break}return n.next=47,j(e.windowId,{omitTabs:!0});case 47:if(!(_=n.sent)||"minimized"===_.state){n.next=54;break}return n.next=51,P(_.id);case 51:if(void 0===m){n.next=54;break}return n.next=54,d.activateTab(m);case 54:return b.length&&console.warn("".concat(b.length," URLs failed to open (").concat(b.join(","),")")),n.abrupt("return",{tabs:y.map((function(t){return ht(t)})),unopenableUrls:[].concat(Object(l.a)(s.map((function(t){return t.url}))),b)});case 56:case"end":return n.stop()}}),n,null,[[20,38,41,44]])})))()},openTabsAfterTab:function(t,e){return Object(f.a)(tt().mark((function n(){var r,o,i,a,u;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.getWindows();case 2:if(r=n.sent,o=Object($.l)(r,(function(t){return t.id===e.tabId})),i=o.group,a=o.unitIdx,i){n.next=6;break}throw new Error("tabId ".concat(e.tabId," does not match any open tab"));case 6:return u=t.map((function(t){return Object(s.a)(Object(s.a)({},t),{},{active:!0})})),n.abrupt("return",d.openTabsInExistingWindow(u,{windowId:i.id,index:a+1,focused:e.focused,optimized:e.optimized}));case 8:case"end":return n.stop()}}),n)})))()},openTabsInNewWindow:function(t,e){return Object(f.a)(tt().mark((function n(){var c,f,h,v,y,b,m,g,w,x,O,k,S,L,T,I,C,N,M,U;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.incognito){n.next=8;break}return n.next=3,chrome.extension.isAllowedIncognitoAccess();case 3:if(n.sent){n.next=8;break}return c=chrome.runtime.getManifest(),console.warn("cannot open tabs in an incognito window because ".concat(c.name||"extension"," is not allowed incognito access.")),n.abrupt("return",{wins:[],unopenableUrls:t.map((function(t){return t.url}))});case 8:return n.next=10,p(t,e.incognito);case 10:if(f=n.sent,h=Object(u.a)(f,2),v=h[0],y=h[1],v.length){n.next=17;break}return console.warn("no openable URLs provided".concat(y.length?". rejected ".concat(y.length," ").concat(1===y.length?"URL":"URLs",": ").concat(y.map((function(t){return t.url})).join(",")):"")),n.abrupt("return",{wins:[],unopenableUrls:y.map((function(t){return t.url}))});case 17:return y.length&&console.warn("".concat(y.length," ").concat(1===y.length?"URL is":"URLs are"," preemptively disallowed from opening"),y.map((function(t){return t.url}))),b=Object(s.a)({incognito:!!e.incognito},A(e)),e.unfocused&&D(b.state)&&(b.focused=!1),e.type&&(b.type=e.type),n.next=23,E(b,v);case 23:if(m=n.sent,g=m.win,w=m.remainingUrlInfos,x=m.failedUrls,g){n.next=30;break}return x.length&&console.warn("".concat(x.length," URLs failed to open (").concat(x.join(","),")")),n.abrupt("return",{wins:[],unopenableUrls:[].concat(Object(l.a)(y.map((function(t){return t.url}))),Object(l.a)(x))});case 30:if(F=w,O=Object(r.a)(F)||Object(o.a)(F)||Object(i.a)(F)||Object(a.a)(),k=O[0],S=O.slice(1),(L=g.tabs[0])&&null!=L.id){n.next=34;break}throw new Error("created window has no tabs");case 34:if(!e.unfocused||D(b.state)){n.next=40;break}return n.next=37,_({omitTabs:!0});case 37:return T=n.sent,n.next=40,P(T.id);case 40:if(!k.pinned){n.next=43;break}return n.next=43,chrome.tabs.update(L.id,{pinned:!0});case 43:if(e.optimized&&ot.add(L.id),!S.length){n.next=50;break}return n.next=47,d.openTabsInExistingWindow(S,{windowId:g.id,focused:!e.unfocused,optimized:e.optimized});case 47:n.t0=n.sent,n.next=51;break;case 50:n.t0={};case 51:return I=n.t0,C=I.unopenableUrls,N=void 0===C?[]:C,(M=[].concat(Object(l.a)(x),Object(l.a)(N))).length&&console.warn("".concat(M.length," URLs failed to open (").concat(M.join(","),")")),n.next=58,j(g.id);case 58:return U=n.sent,n.abrupt("return",{wins:[ft(U)],unopenableUrls:[].concat(Object(l.a)(y.map((function(t){return t.url}))),Object(l.a)(M))});case 60:case"end":return n.stop()}var F}),n)})))()},activateOrOpenTab:function(t){var e=arguments;return Object(f.a)(tt().mark((function n(){var r,o,i,a,u,c,s,f,h,p,v,y,b,m,g;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.length>1&&void 0!==e[1]?e[1]:{},n.next=3,_({omitTabs:!0});case 3:return i=n.sent.id,n.next=6,pt();case 6:if(a=n.sent,u=a.find((function(t){return t.id===i})),c=u&&dt(u,o.targetWindowPrivacy)?Object(H.c)(u.tabs,(function(t){return t.active})):[],s="current-window"===o.activationScope&&c.length?c:[].concat(Object(l.a)(c),Object(l.a)(a.filter((function(t){return t.id!==i})).flatMap((function(t){return t.tabs})))),"incognito"===o.targetWindowPrivacy?s=s.filter((function(t){return t.incognito})):"clear"===o.targetWindowPrivacy&&(s=s.filter((function(t){return!t.incognito}))),!(f=s.find(o.tabMatcher||function(e){return Object(Q.g)(e.url,"/")===Object(Q.g)(t,"/")}))){n.next=14;break}return n.abrupt("return",d.activateTab(f.id,{focusWindow:!0}));case 14:if(!c.length||!o.reuseNewTab){n.next=21;break}if(!(h=c[0]).active||!d.isNewTabUrl(h.url)){n.next=21;break}return n.next=19,F(h.id,t);case 19:return p=n.sent,n.abrupt("return",p&&ht(p));case 21:if(!s.length){n.next=28;break}return v=s[0].windowId,n.next=25,d.openTabsInExistingWindow([{url:t,active:!0}],{windowId:v,focused:v!==i||!o.unfocusedIfCurrent});case 25:return y=n.sent,b=y.tabs,n.abrupt("return",b[0]);case 28:return n.next=30,d.openTabsInNewWindow([{url:t,active:!0}],{incognito:"incognito"===o.targetWindowPrivacy});case 30:return m=n.sent,g=m.wins,n.abrupt("return",null===(r=g[0])||void 0===r?void 0:r.tabs[0]);case 33:case"end":return n.stop()}}),n)})))()},activateTab:function(t){var e=arguments;return Object(f.a)(tt().mark((function n(){var r,o;return tt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>1&&void 0!==e[1]?e[1]:{},n.prev=1,n.next=4,chrome.tabs.update(t,{active:!0});case 4:if(o=n.sent,!r.focusWindow){n.next=8;break}return n.next=8,P(o.windowId);case 8:return n.abrupt("return",ht(o));case 11:n.prev=11,n.t0=n.catch(1),console.error(n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})))()},moveTabs:function(){},togglePinTabs:function(){},toggleMuteTabs:function(){},closeTabs:function(t){return Object(f.a)(tt().mark((function e(){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.filter((function(t){return!bt(t)}))).length){e.next=3;break}return e.abrupt("return");case 3:return at=[].concat(Object(l.a)(at),Object(l.a)(n)),h.next({type:"TABS-CLOSING",tabIds:n}),e.next=7,Promise.allSettled(n.map((function(t){return K(t)})));case 7:at=at.filter((function(t){return!n.includes(t)}));case 8:case"end":return e.stop()}}),e)})))()},observe:function(){return h}};return d;function p(t,e){return v.apply(this,arguments)}function v(){return(v=Object(f.a)(tt().mark((function t(e,n){var r;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.extension.isAllowedFileSchemeAccess();case 2:return r=t.sent,t.abrupt("return",Object(H.k)(e,(function(t){return y(t.url,r,n)})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,n,r){return(n||!Object(q.c)(t))&&!Object(q.f)(t)&&(!r||!e.isFeatureUrl(t,"bookmarks")&&!e.isFeatureUrl(t,"history")&&!e.isFeatureUrl(t,"extensions")&&!e.isFeatureUrl(t,"settings"))}}function ft(t){var e=Object(z.i)(t,et);if(!Object(J.a)(e))throw new Error("chrome.window is missing id: ".concat(JSON.stringify(t)));var n=e.tabs.map((function(t){return ht(t)})),r=Object(s.a)(Object(s.a)({},e),{},{tabs:n});return Object($.A)(r)}function ht(t){var e=Object(z.i)(t,nt);if(!Object(J.a)(e))throw new Error("chrome.tab is missing id: ".concat(JSON.stringify(t)));"complete"!==e.status&&ut.has(e.id)&&(e.status="complete");var n=Object(s.a)({},e);return Object($.z)(n)}function dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";return"any"===e||"incognito"===e&&t.incognito||"clear"===e&&!t.incognito}function pt(){return vt.apply(this,arguments)}function vt(){return(vt=Object(f.a)(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k();case 2:return t.abrupt("return",t.sent.filter((function(t){return!yt(t.id)})).map((function(t){return Object(s.a)(Object(s.a)({},t),{},{tabs:t.tabs.filter((function(t){return null!=t.id&&!bt(t.id)}))})})).filter((function(t){return t.tabs.length})));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(t){return it.includes(t)}function bt(t){return at.includes(t)}function mt(t){var e=t.incognito,n=t.type,r=t.state,o=t.left,i=t.top,a=t.width,u=t.height,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.a)({incognito:e,type:C(n),state:r,left:o,top:i,width:a,height:u},c)}},,function(t){t.exports=JSON.parse('{"googleChromeWebStore":{"url":"https://chrome.google.com/webstore/","authoritativeBrowserConfig":"chrome"},"microsoftAddOnStore":{"url":"","authoritativeBrowserConfig":"edge"},"mozillaAddOnStore":{"url":"","authoritativeBrowserConfig":"firefox"},"appleMacAppStore":{"url":"","authoritativeBrowserConfig":"safari"}}')},function(t,e,n){t.exports=n(97)},,,,,,,,,,,function(t,e){e.parse=function(t,e){if(e?e.offsets="undefined"===typeof e.offsets||e.offsets:e={offsets:!0},t||(t=""),-1!==t.indexOf(":")||e.tokenize){if(e.keywords||e.ranges||e.tokenize){var n={text:[]};e.offsets&&(n.offsets=[]);for(var r,o={},i=[],a=/(\S+:'(?:[^'\\]|\\.)*')|(\S+:"(?:[^"\\]|\\.)*")|(-?"(?:[^"\\]|\\.)*")|(-?'(?:[^'\\]|\\.)*')|\S+|\S+:\S+/g;null!==(r=a.exec(t));){var u,c=(u=r[0]).indexOf(":");if(-1!==c){u.split(":");var s=u.slice(0,c),l=u.slice(c+1);l=((l=l.replace(/^\"|\"$|^\'|\'$/g,""))+"").replace(/\\(.?)/g,(function(t,e){switch(e){case"\\":return"\\";case"0":return"\0";case"":return"";default:return e}})),i.push({keyword:s,value:l,offsetStart:r.index,offsetEnd:r.index+u.length})}else{var f=!1;"-"===u[0]&&(f=!0,u=u.slice(1)),u=((u=u.replace(/^\"|\"$|^\'|\'$/g,""))+"").replace(/\\(.?)/g,(function(t,e){switch(e){case"\\":return"\\";case"0":return"\0";case"":return"";default:return e}})),f?o.text?(o.text instanceof Array||(o.text=[o.text]),o.text.push(u)):o.text=u:i.push({text:u,offsetStart:r.index,offsetEnd:r.index+u.length})}}for(i.reverse();u=i.pop();)if(u.text)n.text.push(u.text),e.offsets&&n.offsets.push(u);else{s=u.keyword;e.keywords=e.keywords||[];var h=!1,d=!1;if(/^-/.test(s)){if("-"===s[0]){var p=s.slice(1);(h=!(-1===e.keywords.indexOf(p)))&&(s=p,d=!0)}}else h=!(-1===e.keywords.indexOf(s));e.ranges=e.ranges||[];var v=!(-1===e.ranges.indexOf(s));if(h){if(e.offsets&&n.offsets.push({keyword:s,value:u.value,offsetStart:d?u.offsetStart+1:u.offsetStart,offsetEnd:u.offsetEnd}),(b=u.value).length){var y=b.split(",");d?o[s]?o[s]instanceof Array?y.length>1?o[s]=o[s].concat(y):o[s].push(b):(o[s]=[o[s]],o[s].push(b)):y.length>1?o[s]=y:e.alwaysArray?o[s]=[b]:o[s]=b:n[s]?n[s]instanceof Array?y.length>1?n[s]=n[s].concat(y):n[s].push(b):(n[s]=[n[s]],n[s].push(b)):y.length>1?n[s]=y:e.alwaysArray?n[s]=[b]:n[s]=b}}else if(v){e.offsets&&n.offsets.push(u);var b,m=(b=u.value).split("-");n[s]={},2===m.length?(n[s].from=m[0],n[s].to=m[1]):!m.length%2||(n[s].from=b)}else{var g=u.keyword+":"+u.value;n.text.push(g),e.offsets&&n.offsets.push({text:g,offsetStart:u.offsetStart,offsetEnd:u.offsetEnd})}}return n.text.length?e.tokenize||(n.text=n.text.join(" ").trim()):delete n.text,n.exclude=o,n}return t}return t},e.stringify=function(t,n,r){if(n||(n={offsets:!0}),!t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.join(" ");if(!Object.keys(t).length)return"";if(3===Object.keys(t).length&&t.text&&t.offsets&&t.exclude&&"string"===typeof t.text)return t.text;r||(r="");var o=function(t){return t.indexOf(" ")>-1?JSON.stringify(t):t},i=function(t){return r+t},a=[];if(t.text){var u=[];"string"===typeof t.text?u.push(t.text):u.push.apply(u,t.text),u.length>0&&a.push(u.map(o).map(i).join(" "))}return n.keywords&&n.keywords.forEach((function(e){if(t[e]){var n=[];"string"===typeof t[e]?n.push(t[e]):n.push.apply(n,t[e]),n.length>0&&a.push(i(e+":"+n.map(o).join(",")))}})),n.ranges&&n.ranges.forEach((function(e){if(t[e]){var n=t[e].from,r=t[e].to;r&&(n=n+"-"+r),n&&a.push(i(e+":"+n))}})),t.exclude&&Object.keys(t.exclude).length>0&&a.push(e.stringify(t.exclude,n,"-")),a.join(" ")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(22),o=n(35);function i(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.thisArg))},t}(),u=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(o.a)},,function(t,e,n){"use strict";n.r(e);var r=n(3),o=n(2),i=n(83),a=n(31),u=n(49),c=n(24),s=n(13),l=n(5),f=n(133),h=n(22),d=n(35),p=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return h.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(o){n=!0,r=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return h.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(41).a)),v=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),y=new(function(t){function e(n,r){void 0===r&&(r=v.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return h.a(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(v))(p);function b(t,e){return void 0===e&&(e=y),function(n){return n.lift(new m(t,e))}}var m=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new g(t,this.dueTime,this.scheduler))},t}(),g=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.dueTime=n,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return h.a(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(w,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(d.a);function w(t){t.debouncedNext()}var x=n(4);function O(){O=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(T){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new E(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(T){return{type:"throw",arg:T}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(S([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return L()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=j(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function j(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var j=300,_=["WIN-OPENED","WIN-CLOSED","TAB-OPENED","TAB-CLOSED"],k=null;function E(t){return S.apply(this,arguments)}function S(){return(S=Object(r.a)(O().mark((function t(e){var n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return L(),t.next=3,Object(a.e)("showTabCountsBadge");case 3:t.sent?(chrome.action.setBadgeTextColor({color:"#fff"}),chrome.action.setBadgeBackgroundColor({color:"#000"}),T(e),n=e.observe().pipe(Object(f.a)((function(t){var e=t.type;return _.includes(e)})),b(j)),k=n.subscribe((function(){return T(e)}))):chrome.action.setBadgeText({text:""});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(){k&&(k.unsubscribe(),k=null)}function T(t){return P.apply(this,arguments)}function P(){return(P=Object(r.a)(O().mark((function t(e){var n,r;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getWindows();case 3:n=t.sent,r=Object(x.n)(n),chrome.action.setBadgeText({text:"".concat(r.length)}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.warn("unable to update badge counts",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}var I=n(65),C=n(44);function D(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var A=D(),N=n(73);var M=n(82),U=function(t){if(t&&"function"===typeof t[N.a])return i=t,function(t){var e=i[N.a]();if("function"!==typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((o=t)&&"number"===typeof o.length&&"function"!==typeof o)return r=t,function(t){for(var e=0,n=r.length;e<n&&!t.closed;e++)t.next(r[e]);t.complete()};if(function(t){return!!t&&"function"!==typeof t.subscribe&&"function"===typeof t.then}(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,C.a),t};if(t&&"function"===typeof t[A])return e=t,function(t){for(var n=e[A]();;){var r=void 0;try{r=n.next()}catch(o){return t.error(o),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"===typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,o,i,a=Object(M.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+a+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},F=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return h.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(d.a),B=(d.a,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h.a(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(d.a));d.a;var K=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new W(t,this.durationSelector))},t}(),W=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return h.a(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=function(t,e){if(!e.closed){if(t instanceof I.a)return t.subscribe(e);var n;try{n=U(t)(e)}catch(r){e.error(r)}return n}}(e,new F(this)))&&!n.closed&&this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(B),R=n(81);function G(t,e){var n;return void 0===t&&(t=0),void 0===e&&(e=y),n=t,(Object(R.a)(n)||!(n-parseFloat(n)+1>=0)||t<0)&&(t=0),e&&"function"===typeof e.schedule||(e=y),new I.a((function(n){return n.add(e.schedule(Y,t,{subscriber:n,counter:0,period:t})),n}))}function Y(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var q=n(12);function z(){z=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var H=chrome.storage.local,V=["WIN-OPENED","WIN-CLOSED","TAB-OPENED","TAB-CLOSED","TAB-MOVED","TAB-UPDATED-URL","TAB-UPDATED-PINNED","TAB-UPDATED-GROUPID"],Q=["id","incognito","tabs","title","type","state","top","left","width","height"],X=["id","favIconUrl","title","url","pinned","groupId","description","active"],J=null;function $(t){return Z.apply(this,arguments)}function Z(){return(Z=Object(r.a)(z().mark((function t(e){var n,r;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.session.get("recordingEnabled");case 2:if(t.sent.recordingEnabled){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,e.getWindows();case 7:n=t.sent,ot(r=n.map((function(t){return rt(t)})),e)&&tt(r);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t){var e={timestamp:Object(s.a)(),windows:t};return H.set({activeSnapshot:e})}function et(){return nt.apply(this,arguments)}function nt(){return(nt=Object(r.a)(z().mark((function t(){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.get("activeSnapshot");case 2:return t.abrupt("return",t.sent.activeSnapshot);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function rt(t){var e=Object(q.i)(t,Q);return e.tabs=e.tabs.map((function(t){return function(t){return Object(q.i)(t,X)}(t)})),e}function ot(t,e){return Object(x.n)(t).some((function(t){return t.url&&!e.isNewTabUrl(t.url)}))}function it(){it=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var at=chrome.storage.local,ut="pulse";function ct(){return st.apply(this,arguments)}function st(){return(st=Object(r.a)(it().mark((function t(){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.session.get("recordingEnabled");case 2:if(t.sent.recordingEnabled){t.next=5;break}return t.abrupt("return");case 5:return t.abrupt("return",at.set({pulse:Object(s.a)()}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lt(){return ft.apply(this,arguments)}function ft(){return(ft=Object(r.a)(it().mark((function t(){return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.get("pulse");case 2:return t.abrupt("return",t.sent.pulse);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ht=n(38);function dt(){dt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function pt(t,e){return vt.apply(this,arguments)}function vt(){return(vt=Object(r.a)(dt().mark((function t(e,n){var r,o,i,u;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et();case 2:if(!(null===(o=t.sent)||void 0===o||null===(r=o.windows)||void 0===r?void 0:r.length)){t.next=55;break}if(t.t0="snapshot-scheduled"!==e,t.t0){t.next=21;break}return t.t1=x.B,t.t2=o.windows,t.next=10,Object(ht.f)("snapshot-scheduled");case 10:if(t.t4=i=t.sent,t.t3=null===t.t4,t.t3){t.next=14;break}t.t3=void 0===i;case 14:if(!t.t3){t.next=18;break}t.t5=void 0,t.next=19;break;case 18:t.t5=i.windows;case 19:t.t6=t.t5,t.t0=!(0,t.t1)(t.t2,t.t6);case 21:if(!t.t0){t.next=55;break}return t.t7=x.w,t.t8=Math.max(null!==n&&void 0!==n?n:0,o.timestamp),t.t9=o.timestamp,t.t10=o.windows,t.next=28,Object(a.e)("clientId");case 28:if(t.t11=t.sent,t.t11){t.next=31;break}t.t11="";case 31:return t.t12=t.t11,t.t13=e,t.t14=Object(s.a)(),t.t15={id:t.t8,instant:t.t9,windows:t.t10,clientId:t.t12,type:t.t13,created:t.t14},u=(0,t.t7)(t.t15),t.t16=ht.a,t.t17=u,t.next=40,Object(a.e)("scheduledSnapshotRemoveOlderThan");case 40:if(t.t18=t.sent,t.t18){t.next=43;break}t.t18=a.c;case 43:return t.t19=t.t18,t.t20=60*t.t19,t.t21=1e3*t.t20,t.next=48,Object(a.e)("scheduledSnapshotKeepAtMost");case 48:if(t.t22=t.sent,t.t22){t.next=51;break}t.t22=a.b;case 51:return t.t23=t.t22,t.t24={maxAge:t.t21,maxCount:t.t23},t.next=55,(0,t.t16)(t.t17,t.t24);case 55:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(){yt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var bt="snapshot";function mt(){return(mt=Object(r.a)(yt().mark((function t(){return yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:chrome.alarms.onAlarm.addListener((function(t){t.name===bt&&pt("snapshot-scheduled",Object(s.a)())})),chrome.storage.onChanged.addListener((function(t,e){"local"===e&&t.cycleUpdated&&gt()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gt(t){return wt.apply(this,arguments)}function wt(){return(wt=Object(r.a)(yt().mark((function t(e){var n,r,o;return yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e||void 0===e){t.next=4;break}t.t1=e,t.next=7;break;case 4:return t.next=6,Object(a.e)("scheduledSnapshotCycle");case 6:t.t1=t.sent;case 7:if(t.t2=n=t.t1,t.t0=null!==t.t2,!t.t0){t.next=11;break}t.t0=void 0!==n;case 11:if(!t.t0){t.next=15;break}t.t3=n,t.next=16;break;case 15:t.t3=a.a;case 16:(r=t.t3)?(o=60*r*1e3,chrome.alarms.create(bt,{when:Object(s.a)()+o,periodInMinutes:r})):chrome.alarms.clear(bt);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xt(){xt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(L){c=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new k(o||[]);return r(a,"_invoke",{value:x(t,n,u)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(L){return{type:"throw",arg:L}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(E([])));b&&b!==e&&n.call(b,i)&&(v=b);var m=p.prototype=h.prototype=Object.create(v);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,u){var c=l(t[r],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function x(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=O(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function O(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),c(m,u,"Generator"),c(m,i,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=E,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}console.log("%c----- service worker load ".concat(l.a.dateAndTime()," -----"),"color: #05d805");try{var Ot=Object(u.a)();0;var jt=Object(i.a)(Object(o.a)({},Object(i.b)(Ot)));!function(t){var e=t.session,n=t.canonicalMainFilename,o=t.canonicalMainUrl;chrome.runtime.onInstalled.addListener(function(){var t=Object(r.a)(xt().mark((function t(r){var i,u,l,f;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.reason,u=r.previousVersion,"install"!==i){t.next=6;break}console.log("extension installed"),Object(a.f)("showWelcome",!0),t.next=20;break;case 6:if("update"!==i){t.next=19;break}if(l=chrome.runtime.getManifest().version,u===l){t.next=16;break}return console.log("extension updated ".concat(u," -> ").concat(l)),t.next=12,chrome.storage.local.set({sbUpdateInfo:{updated:Object(s.a)(),previousVersion:u,currentVersion:l}});case 12:chrome.storage.local.set({showSbUpdateNotification:!0}),(null===u||void 0===u?void 0:u.startsWith("3."))&&(f=o.toLowerCase(),e.activateOrOpenTab(n,{targetWindowPrivacy:"clear",activationScope:"current-window",unfocusedIfCurrent:!0,tabMatcher:function(t){return Object(c.h)(t.url,f)}})),t.next=17;break;case 16:console.log("extension reloaded");case 17:t.next=20;break;case 19:"chrome_update"!==i&&"browser_update"!==i||console.log("browser version updated");case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}({session:jt,canonicalMainFilename:Ot.ext.canonicalMainFilename,canonicalMainUrl:Ot.ext.canonicalMainUrl}),function(t){var e=t.session,n=t.canonicalMainFilename,r=t.canonicalMainUrl.toLowerCase();chrome.action.onClicked.addListener((function(){return e.activateOrOpenTab(n,{targetWindowPrivacy:"clear",activationScope:"current-window",tabMatcher:function(t){return Object(c.h)(t.url,r)},reuseNewTab:!0})}))}({session:jt,canonicalMainFilename:Ot.ext.canonicalMainFilename,canonicalMainUrl:Ot.ext.canonicalMainUrl}),E(jt),chrome.storage.onChanged.addListener((function(t,e){"local"===e&&t.tabCountsSettingUpdated&&E(jt)})),function(t){J&&(J.unsubscribe(),J=null);var e,n=t.observe().pipe(Object(f.a)((function(t){var e=t.type;return V.includes(e)})),(e=function(t){return G("TAB-CLOSED"===(null===t||void 0===t?void 0:t.type)||"WIN-CLOSED"===(null===t||void 0===t?void 0:t.type)?2500:1e3)},function(t){return t.lift(new K(e))}));J=n.subscribe((function(){return $(t)}))}(jt),function(){mt.apply(this,arguments)}(),chrome.alarms.onAlarm.addListener((function(t){t.name===ut&&ct()})),function(t){_t.apply(this,arguments)}(jt)}catch(kt){console.error("service worker error",kt)}function _t(){return(_t=Object(r.a)(xt().mark((function t(e){return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.session.get("recordingEnabled");case 2:if(t.sent.recordingEnabled){t.next=21;break}return t.prev=4,t.t0=pt,t.next=8,lt();case 8:return t.t1=t.sent,t.next=11,(0,t.t0)("browser-closed",t.t1);case 11:t.next=16;break;case 13:t.prev=13,t.t2=t.catch(4),console.error("failed to create browser-closed event",t.t2);case 16:return t.next=18,chrome.storage.session.set({recordingEnabled:!0});case 18:gt(),ct(),chrome.alarms.create(ut,{periodInMinutes:1}),$(e);case 21:case"end":return t.stop()}}),t,null,[[4,13]])})))).apply(this,arguments)}},function(t,e,n){"use strict";var r=n(39),o=n(8);var i=n(11);function a(t){if(Object(o.a)(1,arguments),!function(t){return Object(o.a)(1,arguments),t instanceof Date||"object"===Object(r.a)(t)&&"[object Date]"===Object.prototype.toString.call(t)}(t)&&"number"!==typeof t)return!1;var e=Object(i.a)(t);return!isNaN(Number(e))}var u=n(25);function c(t,e){return Object(o.a)(2,arguments),function(t,e){Object(o.a)(2,arguments);var n=Object(i.a)(t).getTime(),r=Object(u.a)(e);return new Date(n+r)}(t,-Object(u.a)(e))}function s(t){Object(o.a)(1,arguments);var e=Object(i.a)(t),n=e.getUTCDay(),r=(n<1?7:0)+n-1;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function l(t){Object(o.a)(1,arguments);var e=Object(i.a)(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=s(r),u=new Date(0);u.setUTCFullYear(n,0,4),u.setUTCHours(0,0,0,0);var c=s(u);return e.getTime()>=a.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}function f(t){Object(o.a)(1,arguments);var e=Object(i.a)(t),n=s(e).getTime()-function(t){Object(o.a)(1,arguments);var e=l(t),n=new Date(0);return n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0),s(n)}(e).getTime();return Math.round(n/6048e5)+1}var h=n(37);function d(t,e){var n,r,a,c,s,l,f,d;Object(o.a)(1,arguments);var p=Object(h.a)(),v=Object(u.a)(null!==(n=null!==(r=null!==(a=null!==(c=null===e||void 0===e?void 0:e.weekStartsOn)&&void 0!==c?c:null===e||void 0===e||null===(s=e.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:p.weekStartsOn)&&void 0!==r?r:null===(f=p.locale)||void 0===f||null===(d=f.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==n?n:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var y=Object(i.a)(t),b=y.getUTCDay(),m=(b<v?7:0)+b-v;return y.setUTCDate(y.getUTCDate()-m),y.setUTCHours(0,0,0,0),y}function p(t,e){var n,r,a,c,s,l,f,p;Object(o.a)(1,arguments);var v=Object(i.a)(t),y=v.getUTCFullYear(),b=Object(h.a)(),m=Object(u.a)(null!==(n=null!==(r=null!==(a=null!==(c=null===e||void 0===e?void 0:e.firstWeekContainsDate)&&void 0!==c?c:null===e||void 0===e||null===(s=e.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:b.firstWeekContainsDate)&&void 0!==r?r:null===(f=b.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==n?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(y+1,0,m),g.setUTCHours(0,0,0,0);var w=d(g,e),x=new Date(0);x.setUTCFullYear(y,0,m),x.setUTCHours(0,0,0,0);var O=d(x,e);return v.getTime()>=w.getTime()?y+1:v.getTime()>=O.getTime()?y:y-1}function v(t,e){Object(o.a)(1,arguments);var n=Object(i.a)(t),r=d(n,e).getTime()-function(t,e){var n,r,i,a,c,s,l,f;Object(o.a)(1,arguments);var v=Object(h.a)(),y=Object(u.a)(null!==(n=null!==(r=null!==(i=null!==(a=null===e||void 0===e?void 0:e.firstWeekContainsDate)&&void 0!==a?a:null===e||void 0===e||null===(c=e.locale)||void 0===c||null===(s=c.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:v.firstWeekContainsDate)&&void 0!==r?r:null===(l=v.locale)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==n?n:1),b=p(t,e),m=new Date(0);return m.setUTCFullYear(b,0,y),m.setUTCHours(0,0,0,0),d(m,e)}(n,e).getTime();return Math.round(r/6048e5)+1}function y(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var b={y:function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return y("yy"===e?r%100:r,e.length)},M:function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):y(n+1,2)},d:function(t,e){return y(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(t,e){return y(t.getUTCHours()%12||12,e.length)},H:function(t,e){return y(t.getUTCHours(),e.length)},m:function(t,e){return y(t.getUTCMinutes(),e.length)},s:function(t,e){return y(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,r=t.getUTCMilliseconds();return y(Math.floor(r*Math.pow(10,n-3)),e.length)}},m="midnight",g="noon",w="morning",x="afternoon",O="evening",j="night",_={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var r=t.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return b.y(t,e)},Y:function(t,e,n,r){var o=p(t,r),i=o>0?o:1-o;return"YY"===e?y(i%100,2):"Yo"===e?n.ordinalNumber(i,{unit:"year"}):y(i,e.length)},R:function(t,e){return y(l(t),e.length)},u:function(t,e){return y(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return y(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return y(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return b.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return y(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var o=v(t,r);return"wo"===e?n.ordinalNumber(o,{unit:"week"}):y(o,e.length)},I:function(t,e,n){var r=f(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):y(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):b.d(t,e)},D:function(t,e,n){var r=function(t){Object(o.a)(1,arguments);var e=Object(i.a)(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=n-e.getTime();return Math.floor(r/864e5)+1}(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):y(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return y(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return y(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),o=0===r?7:r;switch(e){case"i":return String(o);case"ii":return y(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,o=t.getUTCHours();switch(r=12===o?g:0===o?m:o/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,o=t.getUTCHours();switch(r=o>=17?O:o>=12?x:o>=4?w:j,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var r=t.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return b.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):b.H(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):y(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):y(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):b.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):b.s(t,e)},S:function(t,e){return b.S(t,e)},X:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return E(o);case"XXXX":case"XX":return S(o);default:return S(o,":")}},x:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return E(o);case"xxxx":case"xx":return S(o);default:return S(o,":")}},O:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+k(o,":");default:return"GMT"+S(o,":")}},z:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+k(o,":");default:return"GMT"+S(o,":")}},t:function(t,e,n,r){var o=r._originalDate||t;return y(Math.floor(o.getTime()/1e3),e.length)},T:function(t,e,n,r){return y((r._originalDate||t).getTime(),e.length)}};function k(t,e){var n=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var a=e||"";return n+String(o)+a+y(i,2)}function E(t,e){return t%60===0?(t>0?"-":"+")+y(Math.abs(t)/60,2):S(t,e)}function S(t,e){var n=e||"",r=t>0?"-":"+",o=Math.abs(t);return r+y(Math.floor(o/60),2)+n+y(o%60,2)}var L=_,T=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},P=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},I={p:P,P:function(t,e){var n,r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return T(t,e);switch(o){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",T(o,e)).replace("{{time}}",P(i,e))}},C=n(50),D=["D","DD"],A=["YY","YYYY"];function N(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var M=n(61);n.d(e,"a",(function(){return R}));var U=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,F=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B=/^'([^]*?)'?$/,K=/''/g,W=/[a-zA-Z]/;function R(t,e,n){var r,s,l,f,d,p,v,y,b,m,g,w,x,O,j,_,k,E;Object(o.a)(2,arguments);var S=String(e),T=Object(h.a)(),P=null!==(r=null!==(s=null===n||void 0===n?void 0:n.locale)&&void 0!==s?s:T.locale)&&void 0!==r?r:M.a,R=Object(u.a)(null!==(l=null!==(f=null!==(d=null!==(p=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==p?p:null===n||void 0===n||null===(v=n.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.firstWeekContainsDate)&&void 0!==d?d:T.firstWeekContainsDate)&&void 0!==f?f:null===(b=T.locale)||void 0===b||null===(m=b.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==l?l:1);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var G=Object(u.a)(null!==(g=null!==(w=null!==(x=null!==(O=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==O?O:null===n||void 0===n||null===(j=n.locale)||void 0===j||null===(_=j.options)||void 0===_?void 0:_.weekStartsOn)&&void 0!==x?x:T.weekStartsOn)&&void 0!==w?w:null===(k=T.locale)||void 0===k||null===(E=k.options)||void 0===E?void 0:E.weekStartsOn)&&void 0!==g?g:0);if(!(G>=0&&G<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!P.localize)throw new RangeError("locale must contain localize property");if(!P.formatLong)throw new RangeError("locale must contain formatLong property");var Y=Object(i.a)(t);if(!a(Y))throw new RangeError("Invalid time value");var q=c(Y,Object(C.a)(Y)),z={firstWeekContainsDate:R,weekStartsOn:G,locale:P,_originalDate:Y};return S.match(F).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,I[e])(t,P.formatLong):t})).join("").match(U).map((function(r){if("''"===r)return"'";var o=r[0];if("'"===o)return function(t){var e=t.match(B);if(!e)return t;return e[1].replace(K,"'")}(r);var i,a=L[o];if(a)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(i=r,-1===A.indexOf(i))||N(r,e,String(t)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(t){return-1!==D.indexOf(t)}(r)||N(r,e,String(t)),a(q,r,P.localize,z);if(o.match(W))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r})).join("")}},function(t,e,n){"use strict";var r=n(37),o=n(50),i=n(63),a=n(11),u=n(79),c=n(57),s=n(61),l=n(8),f=6e4,h=1440,d=30*h,p=365*h;function v(t,e){return Object(l.a)(1,arguments),function(t,e,n){var v,y,b;Object(l.a)(2,arguments);var m=Object(r.a)(),g=null!==(v=null!==(y=null===n||void 0===n?void 0:n.locale)&&void 0!==y?y:m.locale)&&void 0!==v?v:s.a;if(!g.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var w=Object(i.a)(t,e);if(isNaN(w))throw new RangeError("Invalid time value");var x,O,j=Object(c.a)(Object(u.a)(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:w});w>0?(x=Object(a.a)(e),O=Object(a.a)(t)):(x=Object(a.a)(t),O=Object(a.a)(e));var _,k=String(null!==(b=null===n||void 0===n?void 0:n.roundingMethod)&&void 0!==b?b:"round");if("floor"===k)_=Math.floor;else if("ceil"===k)_=Math.ceil;else{if("round"!==k)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");_=Math.round}var E,S=O.getTime()-x.getTime(),L=S/f,T=(S-(Object(o.a)(O)-Object(o.a)(x)))/f,P=null===n||void 0===n?void 0:n.unit;if("second"===(E=P?String(P):L<1?"second":L<60?"minute":L<h?"hour":T<d?"day":T<p?"month":"year")){var I=_(S/1e3);return g.formatDistance("xSeconds",I,j)}if("minute"===E){var C=_(L);return g.formatDistance("xMinutes",C,j)}if("hour"===E){var D=_(L/60);return g.formatDistance("xHours",D,j)}if("day"===E){var A=_(T/h);return g.formatDistance("xDays",A,j)}if("month"===E){var N=_(T/d);return 12===N&&"month"!==P?g.formatDistance("xYears",1,j):g.formatDistance("xMonths",N,j)}if("year"===E){var M=_(T/p);return g.formatDistance("xYears",M,j)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}(t,Date.now(),e)}n.d(e,"a",(function(){return v}))}]);